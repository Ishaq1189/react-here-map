!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],t):t((e=e||self).reactHereMap={},e.React,e.PropTypes)}(this,(function(e,t,n){"use strict";var r="default"in t?t.default:t;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n=n&&n.hasOwnProperty("default")?n.default:n;var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function b(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function y(e,t){return e(t={exports:{}},t.exports),t.exports}var h=y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isString=function(e){return"string"==typeof e},t.isFunction=function(e){return"function"==typeof e}}));b(h);h.isArray,h.isString,h.isFunction;var v=y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=function e(t,r){if((0,h.isString)(t))return new Promise((function(e,r){!function(e,t,r){var o=function(){n[e]=!0,(0,h.isFunction)(t)&&t()};if(n[e])o();else{var i=document.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,o())}:i.onload=function(){o()},i.onerror=function(t){n[e]=!1,console.log("error",t),(0,h.isFunction)(r)&&r()},i.src=e,(document.body||document.head||document).appendChild(i)}}(t,(function(){return e(!0)}),(function(){return r()}))}));if((0,h.isArray)(t)){var o=Promise.resolve(!0);return t.forEach((function(t){o=o.then((function(){return e(t)}))})),o}throw new Error("Invalid argument for get()")}}));b(v);var m=v.default,g={VERSION:"v3/3.0",interactive:!1,includeUI:!1,includePlaces:!1},j=y((function(e){!function(t){var n=function(e){return o(!0===e,!1,arguments)};function r(e,t){if("object"!==i(e))return t;for(var n in t)"object"===i(e[n])&&"object"===i(t[n])?e[n]=r(e[n],t[n]):e[n]=t[n];return e}function o(e,t,o){var a=o[0],u=o.length;(e||"object"!==i(a))&&(a={});for(var c=0;c<u;++c){var s=o[c];if("object"===i(s))for(var l in s)if("__proto__"!==l){var p=e?n.clone(s[l]):s[l];a[l]=t?r(a[l],p):p}}return a}function i(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}n.recursive=function(e){return o(!0===e,!0,arguments)},n.clone=function(e){var t,r,o=e,a=i(e);if("array"===a)for(o=[],r=e.length,t=0;t<r;++t)o[t]=n.clone(e[t]);else if("object"===a)for(t in o={},e)o[t]=n.clone(e[t]);return o},t?e.exports=n:window.merge=n}(e&&e.exports)}));const _=e=>{const t=(e=>j(g,e))(e||{}),{VERSION:n,version:r,interactive:o,includeUI:i,includePlaces:a}=t,u=r||n,c=((e=g.VERSION)=>[`https://js.api.here.com/${e}/mapsjs-service.js`,`https://js.api.here.com/${e}/mapsjs-ui.js`,`https://js.api.here.com/${e}/mapsjs-mapevents.js`,`https://js.api.here.com/${e}/mapsjs-places.js`])(u);return!o&&c.splice(2,1),!i&&c.splice(1,1),!a&&c.splice(3,1),m(`https://js.api.here.com/${u}/mapsjs-core.js`).then((function(){if(i){const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",`https://js.api.here.com/${u}/mapsjs-ui.css`),document.getElementsByTagName("head")[0].append(e)}return m(c)})).catch(e=>{console.log(e)})};var w={normal:["xbase","xbasenight","base","basenight","map","mapnight","traffic","trafficnight","transit","panorama","panoramanight","labels","metaInfo"],satellite:["xbase","base","map","traffic","panorama","labels"],terrain:["xbase","base","map","traffic","panorama","labels"],incidents:!0,venues:!0},O=function(){},E={};["pointerdown","pointerup","pointermove","pointerenter","pointerleave","pointercancel","dragstart","drag","dragend","tab","dbltap"].map((function(e){return E[e]=O}));var P={VERSION:"v3/3.0",mapTypes:w,mapEvents:E,MAP_TYPE:"normal.map",mapOptions:{zoom:8,center:{lat:6.5243793,lng:3.3792057}},interactive:!1,includeUI:!1,includePlaces:!1,useEvents:!1,containerId:"HERE_MAP_CONTAINER",defaultClassName:"here-map-container"},S=y((function(e,t){var n=200,r="__lodash_hash_undefined__",o=800,i=16,a=9007199254740991,u="[object Arguments]",c="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",p="[object Null]",f="[object Object]",b="[object Proxy]",y="[object Undefined]",h=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[u]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m[s]=m["[object Map]"]=m["[object Number]"]=m[f]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1;var g="object"==typeof d&&d&&d.Object===Object&&d,j="object"==typeof self&&self&&self.Object===Object&&self,_=g||j||Function("return this")(),w=t&&!t.nodeType&&t,O=w&&e&&!e.nodeType&&e,E=O&&O.exports===w,P=E&&g.process,H=function(){try{return P&&P.binding&&P.binding("util")}catch(e){}}(),S=H&&H.isTypedArray;function M(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function A(e,t){return"__proto__"==t?void 0:e[t]}var T,z,B,I=Array.prototype,L=Function.prototype,V=Object.prototype,k=_["__core-js_shared__"],R=L.toString,x=V.hasOwnProperty,C=(T=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",D=V.toString,U=R.call(Object),N=RegExp("^"+R.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=E?_.Buffer:void 0,$=_.Symbol,q=_.Uint8Array,G=F?F.allocUnsafe:void 0,Y=(z=Object.getPrototypeOf,B=Object,function(e){return z(B(e))}),J=Object.create,W=V.propertyIsEnumerable,K=I.splice,Q=$?$.toStringTag:void 0,X=function(){try{var e=Oe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Z=F?F.isBuffer:void 0,ee=Math.max,te=Date.now,ne=Oe(_,"Map"),re=Oe(Object,"create"),oe=function(){function e(){}return function(t){if(!Le(t))return{};if(J)return J(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ce(e){var t=this.__data__=new ae(e);this.size=t.size}function se(e,t){var n=Ae(e),r=!n&&Me(e),o=!n&&!r&&ze(e),i=!n&&!r&&!o&&ke(e),a=n||r||o||i,u=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=u.length;for(var s in e)!t&&!x.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ee(s,c))||u.push(s);return u}function le(e,t,n){(void 0===n||Se(e[t],n))&&(void 0!==n||t in e)||de(e,t,n)}function pe(e,t,n){var r=e[t];x.call(e,t)&&Se(r,n)&&(void 0!==n||t in e)||de(e,t,n)}function fe(e,t){for(var n=e.length;n--;)if(Se(e[n][0],t))return n;return-1}function de(e,t,n){"__proto__"==t&&X?X(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}ie.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},ie.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ie.prototype.get=function(e){var t=this.__data__;if(re){var n=t[e];return n===r?void 0:n}return x.call(t,e)?t[e]:void 0},ie.prototype.has=function(e){var t=this.__data__;return re?void 0!==t[e]:x.call(t,e)},ie.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=re&&void 0===t?r:t,this},ae.prototype.clear=function(){this.__data__=[],this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=fe(t,e);return!(n<0)&&(n==t.length-1?t.pop():K.call(t,n,1),--this.size,!0)},ae.prototype.get=function(e){var t=this.__data__,n=fe(t,e);return n<0?void 0:t[n][1]},ae.prototype.has=function(e){return fe(this.__data__,e)>-1},ae.prototype.set=function(e,t){var n=this.__data__,r=fe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ue.prototype.clear=function(){this.size=0,this.__data__={hash:new ie,map:new(ne||ae),string:new ie}},ue.prototype.delete=function(e){var t=we(this,e).delete(e);return this.size-=t?1:0,t},ue.prototype.get=function(e){return we(this,e).get(e)},ue.prototype.has=function(e){return we(this,e).has(e)},ue.prototype.set=function(e,t){var n=we(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ce.prototype.clear=function(){this.__data__=new ae,this.size=0},ce.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ce.prototype.get=function(e){return this.__data__.get(e)},ce.prototype.has=function(e){return this.__data__.has(e)},ce.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ae){var o=r.__data__;if(!ne||o.length<n-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new ue(o)}return r.set(e,t),this.size=r.size,this};var be,ye=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var u=i[be?a:++r];if(!1===t(o[u],u,o))break}return e};function he(e){return null==e?void 0===e?y:p:Q&&Q in Object(e)?function(e){var t=x.call(e,Q),n=e[Q];try{e[Q]=void 0;var r=!0}catch(e){}var o=D.call(e);r&&(t?e[Q]=n:delete e[Q]);return o}(e):function(e){return D.call(e)}(e)}function ve(e){return Ve(e)&&he(e)==u}function me(e){return!(!Le(e)||function(e){return!!C&&C in e}(e))&&(Be(e)?N:h).test(function(e){if(null!=e){try{return R.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ge(e){if(!Le(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Pe(e),n=[];for(var r in e)("constructor"!=r||!t&&x.call(e,r))&&n.push(r);return n}function je(e,t,n,r,o){e!==t&&ye(t,(function(i,a){if(Le(i))o||(o=new ce),function(e,t,n,r,o,i,a){var u=A(e,n),c=A(t,n),s=a.get(c);if(s)return void le(e,n,s);var l=i?i(u,c,n+"",e,t,a):void 0,p=void 0===l;if(p){var d=Ae(c),b=!d&&ze(c),y=!d&&!b&&ke(c);l=c,d||b||y?Ae(u)?l=u:Ve(j=u)&&Te(j)?l=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(u):b?(p=!1,l=function(e,t){if(t)return e.slice();var n=e.length,r=G?G(n):new e.constructor(n);return e.copy(r),r}(c,!0)):y?(p=!1,h=c,v=!0?(m=h.buffer,g=new m.constructor(m.byteLength),new q(g).set(new q(m)),g):h.buffer,l=new h.constructor(v,h.byteOffset,h.length)):l=[]:function(e){if(!Ve(e)||he(e)!=f)return!1;var t=Y(e);if(null===t)return!0;var n=x.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&R.call(n)==U}(c)||Me(c)?(l=u,Me(u)?l=function(e){return function(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;for(;++i<a;){var u=t[i],c=r?r(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),o?de(n,u,c):pe(n,u,c)}return n}(e,Re(e))}(u):(!Le(u)||r&&Be(u))&&(l=function(e){return"function"!=typeof e.constructor||Pe(e)?{}:oe(Y(e))}(c))):p=!1}var h,v,m,g;var j;p&&(a.set(c,l),o(l,c,r,i,a),a.delete(c));le(e,n,l)}(e,t,a,n,je,r,o);else{var u=r?r(A(e,a),i,a+"",e,t,o):void 0;void 0===u&&(u=i),le(e,a,u)}}),Re)}function _e(e,t){return He(function(e,t,n){return t=ee(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=ee(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=r[o];return u[t]=n(a),M(e,this,u)}}(e,t,De),e+"")}function we(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Oe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return me(n)?n:void 0}function Ee(e,t){var n=typeof e;return!!(t=null==t?a:t)&&("number"==n||"symbol"!=n&&v.test(e))&&e>-1&&e%1==0&&e<t}function Pe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||V)}var He=function(e){var t=0,n=0;return function(){var r=te(),a=i-(r-n);if(n=r,a>0){if(++t>=o)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(X?function(e,t){return X(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:De);function Se(e,t){return e===t||e!=e&&t!=t}var Me=ve(function(){return arguments}())?ve:function(e){return Ve(e)&&x.call(e,"callee")&&!W.call(e,"callee")},Ae=Array.isArray;function Te(e){return null!=e&&Ie(e.length)&&!Be(e)}var ze=Z||function(){return!1};function Be(e){if(!Le(e))return!1;var t=he(e);return t==s||t==l||t==c||t==b}function Ie(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Le(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var ke=S?function(e){return function(t){return e(t)}}(S):function(e){return Ve(e)&&Ie(e.length)&&!!m[he(e)]};function Re(e){return Te(e)?se(e,!0):ge(e)}var xe,Ce=(xe=function(e,t,n){je(e,t,n)},_e((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=xe.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!Le(n))return!1;var r=typeof t;return!!("number"==r?Te(n)&&Ee(t,n.length):"string"==r&&t in n)&&Se(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&xe(e,a,n,o)}return e})));function De(e){return e}e.exports=Ce})),M=function(e){var t=function(e){return S(P,e)}(e||{}),n=t.VERSION,r=t.version,o=t.interactive,i=t.includeUI,a=t.includePlaces;return _({includeUI:i,includePlaces:a,interactive:o,version:r||n}).then((function(){return t}))},A=function(e){var t=e.app_id,n=e.app_code;if(!t||!n)throw new Error("Options must include appId and appCode");if("undefined"==typeof H||!H.service)throw new Error("Here Map JavaScripts is not loaded.");return new H.service.Platform(e)};var T=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)};function z(e){for(var t=e.split("."),n=[],r=0;r<t.length;r++){for(var o=t[r];"\\"===o[o.length-1]&&void 0!==t[r+1];)o=o.slice(0,-1)+".",o+=t[++r];n.push(o)}return n}var B={get:function(e,t){if(!T(e)||"string"!=typeof t)return e;for(var n=z(t),r=0;r<n.length;r++){var o=Object.getOwnPropertyDescriptor(e,n[r])||Object.getOwnPropertyDescriptor(Object.prototype,n[r]);if(o&&!o.enumerable)return;if(null==(e=e[n[r]])){if(r!==n.length-1)return;break}}return e},set:function(e,t,n){if(T(e)&&"string"==typeof t)for(var r=z(t),o=0;o<r.length;o++){var i=r[o];T(e[i])||(e[i]={}),o===r.length-1&&(e[i]=n),e=e[i]}},delete:function(e,t){if(T(e)&&"string"==typeof t)for(var n=z(t),r=0;r<n.length;r++){var o=n[r];if(r===n.length-1)return void delete e[o];e=e[o]}},has:function(e,t){if(!T(e)||"string"!=typeof t)return!1;for(var n=z(t),r=0;r<n.length;r++)if(void 0===(e=e[n[r]]))return!1;return!0}},I=function(e,t){var n=t.split("."),r=e[n[0]];if(!(Array.isArray(r)&&r.includes(n[1]))&&!(!0===r))throw new Error("mapType Should be one from https://developer.here.com/documentation/maps/topics/map-types.html in dot notation")},L=function(e,t,n,r,o){I(r,o);var i=e.createDefaultLayers();return new H.Map(t,B.get(i,o),n)},V=function(e,t,n,r){var o=t?new H.mapevents.Behavior(new H.mapevents.MapEvents(e)):null;if(n&&t)for(var i in r)r.hasOwnProperty(i)&&function(){var t=r[i];e.addEventListener(i,(function(e){t()}))}();return o},k=function(e,t,n,r){if(!n)throw new Error("includeUI must be set to true to initialize default UI");return H.ui.UI.createDefault(t,e.createDefaultLayers(),r)},R=function(){var e=document.createElement("style"),t=".grab = {cursor: move;cursor: grab;cursor: -moz-grab;cursor: -webkit-grab;}.grabbing{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}";e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),(document.head||document.getElementsByTagName("head")[0]).appendChild(e)},x=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,s(t).call(this,e))).container=r.createRef(),n.state={builder:{}},n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=S({container:this.container.current,build:!0},e.options,e);delete t.options;var n=function(e,t){var n=t.useEvents,r=t.mapEvents,o=t.interactive,i=t.includeUI,a=t.mapType,u=t.MAP_TYPE,s=t.mapTypes,l=t.mapOptions,p=t.uiLang,f=t.container,d=t.build,b=a||u,y={options:c({},t,{MAP_TYPE:b}),platform:e};return f&&d?(y.map=L(e,f,l,s,b),y.interaction=V(y.map,o,n,r),i&&(y.ui=k(e,y.map,i,p)),R()):(y.createMap=L,y.createPlatform=initPlatform,y.createInteraction=V,y.createDefaultUI=k,y.createInteractionStyles=R),y}(e.platform,t);this.setState({builder:n})}},{key:"createLoadingComponent",value:function(){return r.createElement("div",null,"Loading")}},{key:"displayChildren",value:function(){var e=this.props.children,t=this.state.builder,n=t.map,o=t.platform,i=t.ui,a=t.options;return r.Children.map(e,(function(e){return r.cloneElement(e,{map:n,platform:o,ui:i,__options:a})}))}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.loadingEl,i=this.state.builder.options,a=n||this.createLoadingComponent();return r.createElement("div",{id:P.containerId,className:P.defaultClassName,style:t,ref:this.container},"undefined"==typeof H&&!i&&a,"object"===("undefined"==typeof H?"undefined":o(H))&&i&&this.displayChildren())}}])&&i(n.prototype,a),u&&i(n,u),t}(r.Component);function C(e){var t=S({setViewBounds:!0},e),n=t.points,o=t.options,i=t.map,a=t.setViewBounds;t.platform,t.ui,t.__options;if(!H||!H.map||!i)throw new Error("HMap has to be initialized before adding Map Objects");if(!Array.isArray(n))throw new Error("points should be an array of objects containing lat and lng properties");var u=new H.geo.LineString;n.forEach((function(e){u.pushPoint(e)}));var c=new H.map.Polyline(u,o);return i.addObject(c),a&&i.setViewBounds(c.getBounds()),r.createElement("div",{style:{display:"none"}})}function D(e){var t=S({setViewBounds:!0},e),n=t.points,o=t.map,i=t.setViewBounds,a=t.options;t.platform,t.ui,t.__options;if(!H||!H.map||!o)throw new Error("HMap has to be initialized before adding Map Objects");if(!Array.isArray(n))throw new Error("points should be an array of number to use in drawing the points");var u={},c=n[0];"string"==typeof c&&2===c.split(",").length?(u=new H.geo.LineString,n.forEach((function(e){u.pushLatLngAlt.apply(u,e.split(","))}))):u=new H.geo.LineString(n,"values lat lng alt");var s=new H.map.Polygon(u,a);return o.addObject(s),i&&o.setViewBounds(s.getBounds()),r.createElement("div",{style:{display:"none"}})}function U(e){var t=S({setViewBounds:!0,updateMarker:!1,marker:null,getMarker:function(){}},e),n=t.icon,o=t.map,i=t.coords,a=t.type,u=t.options,c=t.setViewBounds,s=t.updateMarker,l=t.marker,p=t.getMarker,f=(t.platform,t.ui,t.__options,u);if(!H||!H.map||!o)throw new Error("HMap has to be initialized before adding Map Objects");if(!i.lat||!i.lng)throw new Error("coords should be an object having 'lat' and 'lng' as props");a&&"DOM"===a?f.icon=new H.map.DomIcon(n):a&&(f.icon=new H.map.Icon(n));var d=s&&l?l:new H.map.Marker(i,f);return o.getObjects().some((function(e){if("function"==typeof e.getPosition){var t=e.getPosition(),n=t.lat,r=t.lng;return n===i.lat&&i.lng===r}}))||s?s&&d.setPosition(i):o.addObject(d),!l&&p(d),c&&o.setCenter(i),r.createElement("div",{style:{display:"none"}})}function N(e){var t=S({setViewBounds:!0},e),n=t.radius,o=t.map,i=t.coords,a=t.options,u=t.setViewBounds;t.platform,t.ui,t.__options;if(!H||!H.map||!o)throw new Error("HMap has to be initialized before adding Map Objects");if(!i.lat||!i.lng)throw new Error("coords should be an object having 'lat' and 'lng' as props");n||console.info("radius is not set, default radius of 1000 is used");var c=new H.map.Circle(i,n||1e3,a);return o.addObject(c),u&&o.setCenter(i),r.createElement("div",{style:{display:"none"}})}function F(e){var t=S({setViewBounds:!0},e),n=t.map,o=t.points,i=t.options,a=t.setViewBounds;t.platform,t.ui,t.__options;if(!H||!H.map||!n)throw new Error("HMap has to be initialized before adding Map Objects");if(!o||4!==o.length)throw new Error("points should be an array of four items");var u=new H.geo.Rect(o[0],o[1],o[2],o[3]),c=new H.map.Rect(u,i);return n.addObject(c),a&&n.setViewBounds(c.getBounds()),r.createElement("div",{style:{display:"none"}})}function $(e){var n=e.geoCodeParams,o=e.platform,i=e.map,a=e.ui,u=e.children,c=e.reverse,s=e.landmark;if(!H||!H.map||!i)throw new Error("HMap has to be initialized before adding Map Objects");if(!n)throw new Error("geoCodeParams is not set");var l=f(t.useState([]),2),p=l[0],d=l[1],b=function(e){d(e.Response.View[0].Result)},y=o.getGeocodingService();return s?y.search(n,b,(function(e){alert(e)})):c?y.reverseGeocode(n,b,(function(e){return console.log(e)})):y.geocode(n,b,(function(e){return console.log(e)})),p.length&&p.map((function(e){var t=e.Location||e.Place.Locations[0],n=t.DisplayPosition.Latitude,c=t.DisplayPosition.Longitude,s={map:i,platform:o,ui:a,lat:n,lng:c,key:n,location:e,_location:t};return r.cloneElement(u,s)}))}function q(e){var n=S({renderDefaultLine:!0},e),o=n.routeParams,i=n.platform,a=n.map,u=n.ui,c=n.children,s=n.renderDefaultLine,l=n.isoLine,p=n.lineOptions,d=n.polygonOptions,b=n.markerOptions,y=n.icon;if(!H||!H.map||!a)throw new Error("HMap has to be initialized before adding Map Objects");if(!o)throw new Error("routeParams is not set");var h,v=f(t.useState([]),2),m=v[0],g=(v[1],f(t.useState({}),2)),j=g[0],_=(g[1],f(t.useState({}),2)),w=_[0],O=(_[1],f(t.useState({}),2)),E=(O[0],O[1],f(t.useState({}),2)),P=E[0],M=(E[1],i.getRoutingService(),function(){return l?r.createElement(r.Fragment,null,r.createElement(D,{points:m,options:d,setViewBounds:!0,map:a,platform:i}),r.createElement(U,{coords:P,map:a,platform:i,icon:y,options:b,setViewBounds:!1})):(e=j.waypoint[0].mappedPosition,t=j.waypoint[1].mappedPosition,n={lat:e.latitude,lng:e.longitude},o={lat:t.latitude,lng:t.longitude},r.createElement(r.Fragment,null,r.createElement(C,{points:m,map:a,options:p,setViewBounds:!0}),r.createElement(U,{coords:n,map:a,platform:i,icon:y,options:b,setViewBounds:!1}),r.createElement(U,{coords:o,map:a,platform:i,icon:y,options:b,setViewBounds:!1})));var e,t,n,o});return(j.waypoint||w.shape)&&m.length?s?M():(h={map:a,platform:i,ui:u,route:j,routeShape:m,center:P,component:w},r.cloneElement(c,h)):null}function G(e){var t=e.platform,n=e.map,r=e.mapLayerType,o=e.__options.mapTypes;if(!H||!H.map||!n)throw new Error("HMap has to be initialized before adding Map Objects");I(o,r);var i=t.createDefaultLayers();return n.addLayer(B.get(i,r)),null}x.propTypes={version:n.string,mapType:n.string,useEvents:n.bool,interactive:n.bool,includeUI:n.bool,mapEvents:n.object,platform:n.object,options:n.object,mapOptions:n.object},C.propTypes={points:n.array.isRequired,options:n.object,map:n.object,setViewBounds:n.bool},D.propTypes={points:n.array.isRequired,options:n.object,map:n.object,setViewBounds:n.bool},U.propTypes={coords:n.object.isRequired,icon:n.any,options:n.object,type:n.string,setViewBounds:n.bool,map:n.object},N.propTypes={coords:n.object.isRequired,options:n.object,radius:n.number,setViewBounds:n.bool,map:n.object},F.propTypes={options:n.object,points:n.array.isRequired,map:n.object},$.propTypes={geoCodeParams:n.object,children:n.element.isRequired,reverse:n.bool,landmark:n.bool,map:n.object,platform:n.object,ui:n.object},q.propTypes={routeParams:n.object,lineOptions:n.object,markerOptions:n.object,children:n.element,renderDefaultLine:n.bool,isoLine:n.bool,icon:n.any,map:n.object,platform:n.object,ui:n.object},G.propTypes={platform:n.object,__options:n.object,mapLayerType:n.string.isRequired,map:n.object};var Y=C,J=D,W=U,K=N,Q=F,X=q,Z=G,ee=$,te=x;e.HMap=te,e.HMapCircle=K,e.HMapGeoCode=ee,e.HMapLayer=Z,e.HMapMarker=W,e.HMapPolyLine=Y,e.HMapPolygon=J,e.HMapRectangle=Q,e.HMapRoute=X,e.default=function(e){var n=f(t.useState({platform:{},options:{}}),2),o=n[0],i=n[1];t.useEffect((function(){M(e).then((function(e){var t=A(e);i({platform:t,options:e})}))}),[o.platform.A]);var a=o.platform,u=o.options;return"api.here.com"==a.A&&u.app_code?r.Children.map(e.children,(function(e){return r.cloneElement(e,{platform:a,options:u})})):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9nZXQtanMvbGliL3V0aWwuanMiLCIuLi9ub2RlX21vZHVsZXMvZ2V0LWpzL2xpYi9nZXQuanMiLCIuLi9ub2RlX21vZHVsZXMvZ2V0LWpzL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BsaW1pc3RhaC9oZXJlLW1hcC1qcy9zcmMvZGVmYXVsdHMuanMiLCIuLi9ub2RlX21vZHVsZXMvbWVyZ2UvbWVyZ2UuanMiLCIuLi9ub2RlX21vZHVsZXMvQGxpbWlzdGFoL2hlcmUtbWFwLWpzL3NyYy9pbmRleC5qcyIsIi4uL3NyYy9saWJzL2RlZmF1bHRzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC5tZXJnZS9pbmRleC5qcyIsIi4uL3NyYy9saWJzL2xvYWRNYXAuanMiLCIuLi9zcmMvbGlicy9pbml0UGxhdGZvcm0uanMiLCIuLi9ub2RlX21vZHVsZXMvaXMtb2JqL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2RvdC1wcm9wL2luZGV4LmpzIiwiLi4vc3JjL2xpYnMvdmFsaWRhdGVNYXBUeXBlLmpzIiwiLi4vc3JjL2xpYnMvaW5pdE1hcC5qcyIsIi4uL3NyYy9saWJzL2luaXRJbnRlcmFjdGlvbi5qcyIsIi4uL3NyYy9saWJzL2luaXREZWZhdWx0VUkuanMiLCIuLi9zcmMvbGlicy9pbml0SW50ZXJhY3Rpb25TdHlsZXMuanMiLCIuLi9zcmMvY29tcG9uZW50cy9ITWFwL2luZGV4LmpzIiwiLi4vc3JjL2xpYnMvbWFwQnVpbGRlci5qcyIsIi4uL3NyYy9jb21wb25lbnRzL0hNYXAvb2JqZWN0cy9Qb2x5TGluZS5qcyIsIi4uL3NyYy9jb21wb25lbnRzL0hNYXAvb2JqZWN0cy9Qb2x5Z29uLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvSE1hcC9vYmplY3RzL01hcmtlci5qcyIsIi4uL3NyYy9jb21wb25lbnRzL0hNYXAvb2JqZWN0cy9DaXJjbGUuanMiLCIuLi9zcmMvY29tcG9uZW50cy9ITWFwL29iamVjdHMvUmVjdGFuZ2xlLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvR2VvQ29kZS9pbmRleC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1JvdXRlL2luZGV4LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvTGF5ZXIvaW5kZXguanMiLCIuLi9zcmMvaW5kZXguanMiLCIuLi9zcmMvY29tcG9uZW50cy9QbGF0Zm9ybS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgaXNBcnJheSA9IGZ1bmN0aW9uIGlzQXJyYXkodikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHYpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbnZhciBpc1N0cmluZyA9IGZ1bmN0aW9uIGlzU3RyaW5nKHYpIHtcbiAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJztcbn07XG52YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIGlzRnVuY3Rpb24odikge1xuICByZXR1cm4gdHlwZW9mIHYgPT09ICdmdW5jdGlvbic7XG59O1xuXG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbnZhciByZXNvbHZlZCA9IHt9O1xuXG5mdW5jdGlvbiBsb2FkU2NyaXB0KHVybCwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICB2YXIgaW52b2tlQ2FsbGJhY2sgPSBmdW5jdGlvbiBpbnZva2VDYWxsYmFjaygpIHtcbiAgICAgICAgcmVzb2x2ZWRbdXJsXSA9IHRydWU7XG5cbiAgICAgICAgaWYgKCgwLCBfdXRpbC5pc0Z1bmN0aW9uKShjYWxsYmFjaykpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHJlc29sdmVkW3VybF0pIHtcbiAgICAgICAgaW52b2tlQ2FsbGJhY2soKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG5cbiAgICBpZiAoc2NyaXB0LnJlYWR5U3RhdGUpIHtcbiAgICAgICAgLy9JRVxuICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHNjcmlwdC5yZWFkeVN0YXRlID09ICdsb2FkZWQnIHx8IHNjcmlwdC5yZWFkeVN0YXRlID09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vT3RoZXJzXG4gICAgICAgIHNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbnZva2VDYWxsYmFjaygpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmVzb2x2ZWRbdXJsXSA9IGZhbHNlO1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlKTtcbiAgICAgICAgaWYgKCgwLCBfdXRpbC5pc0Z1bmN0aW9uKShlcnJvckNhbGxiYWNrKSkge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHNjcmlwdC5zcmMgPSB1cmw7XG4gICAgdmFyIHBhcmVudCA9IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudDtcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn1cblxuZnVuY3Rpb24gZ2V0KHNyYywgb3B0cykge1xuICAgIGlmICgoMCwgX3V0aWwuaXNTdHJpbmcpKHNyYykpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGxvYWRTY3JpcHQoc3JjLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLmlzQXJyYXkpKHNyYykpIHtcbiAgICAgICAgdmFyIHAgPSBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG5cbiAgICAgICAgc3JjLmZvckVhY2goZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgcCA9IHAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldCh1cmwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhcmd1bWVudCBmb3IgZ2V0KCknKTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvZ2V0LmpzJykuZGVmYXVsdDtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgVkVSU0lPTjogXCJ2My8zLjBcIiwgLy8gVmVyc2lvbiBvZiB0aGUgc2NyaXB0IHRvIGxvYWRcbiAgaW50ZXJhY3RpdmU6IGZhbHNlLCAvLyBMb2FkcyBpbnRlcmFjdGl2aXR5IHNjcmlwdFxuICBpbmNsdWRlVUk6IGZhbHNlLCAvLyBMb2FkIHRoZSBkZWZhdWx0IFVJXG4gIGluY2x1ZGVQbGFjZXM6IGZhbHNlXG59O1xuIiwiLyohXHJcbiAqIEBuYW1lIEphdmFTY3JpcHQvTm9kZUpTIE1lcmdlIHYxLjIuMVxyXG4gKiBAYXV0aG9yIHllaWtvc1xyXG4gKiBAcmVwb3NpdG9yeSBodHRwczovL2dpdGh1Yi5jb20veWVpa29zL2pzLm1lcmdlXHJcblxyXG4gKiBDb3B5cmlnaHQgMjAxNCB5ZWlrb3MgLSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL3Jhdy5naXRodWIuY29tL3llaWtvcy9qcy5tZXJnZS9tYXN0ZXIvTElDRU5TRVxyXG4gKi9cclxuXHJcbjsoZnVuY3Rpb24oaXNOb2RlKSB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1lcmdlIG9uZSBvciBtb3JlIG9iamVjdHMgXHJcblx0ICogQHBhcmFtIGJvb2w/IGNsb25lXHJcblx0ICogQHBhcmFtIG1peGVkLC4uLiBhcmd1bWVudHNcclxuXHQgKiBAcmV0dXJuIG9iamVjdFxyXG5cdCAqL1xyXG5cclxuXHR2YXIgUHVibGljID0gZnVuY3Rpb24oY2xvbmUpIHtcclxuXHJcblx0XHRyZXR1cm4gbWVyZ2UoY2xvbmUgPT09IHRydWUsIGZhbHNlLCBhcmd1bWVudHMpO1xyXG5cclxuXHR9LCBwdWJsaWNOYW1lID0gJ21lcmdlJztcclxuXHJcblx0LyoqXHJcblx0ICogTWVyZ2UgdHdvIG9yIG1vcmUgb2JqZWN0cyByZWN1cnNpdmVseSBcclxuXHQgKiBAcGFyYW0gYm9vbD8gY2xvbmVcclxuXHQgKiBAcGFyYW0gbWl4ZWQsLi4uIGFyZ3VtZW50c1xyXG5cdCAqIEByZXR1cm4gb2JqZWN0XHJcblx0ICovXHJcblxyXG5cdFB1YmxpYy5yZWN1cnNpdmUgPSBmdW5jdGlvbihjbG9uZSkge1xyXG5cclxuXHRcdHJldHVybiBtZXJnZShjbG9uZSA9PT0gdHJ1ZSwgdHJ1ZSwgYXJndW1lbnRzKTtcclxuXHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQ2xvbmUgdGhlIGlucHV0IHJlbW92aW5nIGFueSByZWZlcmVuY2VcclxuXHQgKiBAcGFyYW0gbWl4ZWQgaW5wdXRcclxuXHQgKiBAcmV0dXJuIG1peGVkXHJcblx0ICovXHJcblxyXG5cdFB1YmxpYy5jbG9uZSA9IGZ1bmN0aW9uKGlucHV0KSB7XHJcblxyXG5cdFx0dmFyIG91dHB1dCA9IGlucHV0LFxyXG5cdFx0XHR0eXBlID0gdHlwZU9mKGlucHV0KSxcclxuXHRcdFx0aW5kZXgsIHNpemU7XHJcblxyXG5cdFx0aWYgKHR5cGUgPT09ICdhcnJheScpIHtcclxuXHJcblx0XHRcdG91dHB1dCA9IFtdO1xyXG5cdFx0XHRzaXplID0gaW5wdXQubGVuZ3RoO1xyXG5cclxuXHRcdFx0Zm9yIChpbmRleD0wO2luZGV4PHNpemU7KytpbmRleClcclxuXHJcblx0XHRcdFx0b3V0cHV0W2luZGV4XSA9IFB1YmxpYy5jbG9uZShpbnB1dFtpbmRleF0pO1xyXG5cclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHJcblx0XHRcdG91dHB1dCA9IHt9O1xyXG5cclxuXHRcdFx0Zm9yIChpbmRleCBpbiBpbnB1dClcclxuXHJcblx0XHRcdFx0b3V0cHV0W2luZGV4XSA9IFB1YmxpYy5jbG9uZShpbnB1dFtpbmRleF0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gb3V0cHV0O1xyXG5cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBNZXJnZSB0d28gb2JqZWN0cyByZWN1cnNpdmVseVxyXG5cdCAqIEBwYXJhbSBtaXhlZCBpbnB1dFxyXG5cdCAqIEBwYXJhbSBtaXhlZCBleHRlbmRcclxuXHQgKiBAcmV0dXJuIG1peGVkXHJcblx0ICovXHJcblxyXG5cdGZ1bmN0aW9uIG1lcmdlX3JlY3Vyc2l2ZShiYXNlLCBleHRlbmQpIHtcclxuXHJcblx0XHRpZiAodHlwZU9mKGJhc2UpICE9PSAnb2JqZWN0JylcclxuXHJcblx0XHRcdHJldHVybiBleHRlbmQ7XHJcblxyXG5cdFx0Zm9yICh2YXIga2V5IGluIGV4dGVuZCkge1xyXG5cclxuXHRcdFx0aWYgKHR5cGVPZihiYXNlW2tleV0pID09PSAnb2JqZWN0JyAmJiB0eXBlT2YoZXh0ZW5kW2tleV0pID09PSAnb2JqZWN0Jykge1xyXG5cclxuXHRcdFx0XHRiYXNlW2tleV0gPSBtZXJnZV9yZWN1cnNpdmUoYmFzZVtrZXldLCBleHRlbmRba2V5XSk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRiYXNlW2tleV0gPSBleHRlbmRba2V5XTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGJhc2U7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTWVyZ2UgdHdvIG9yIG1vcmUgb2JqZWN0c1xyXG5cdCAqIEBwYXJhbSBib29sIGNsb25lXHJcblx0ICogQHBhcmFtIGJvb2wgcmVjdXJzaXZlXHJcblx0ICogQHBhcmFtIGFycmF5IGFyZ3ZcclxuXHQgKiBAcmV0dXJuIG9iamVjdFxyXG5cdCAqL1xyXG5cclxuXHRmdW5jdGlvbiBtZXJnZShjbG9uZSwgcmVjdXJzaXZlLCBhcmd2KSB7XHJcblxyXG5cdFx0dmFyIHJlc3VsdCA9IGFyZ3ZbMF0sXHJcblx0XHRcdHNpemUgPSBhcmd2Lmxlbmd0aDtcclxuXHJcblx0XHRpZiAoY2xvbmUgfHwgdHlwZU9mKHJlc3VsdCkgIT09ICdvYmplY3QnKVxyXG5cclxuXHRcdFx0cmVzdWx0ID0ge307XHJcblxyXG5cdFx0Zm9yICh2YXIgaW5kZXg9MDtpbmRleDxzaXplOysraW5kZXgpIHtcclxuXHJcblx0XHRcdHZhciBpdGVtID0gYXJndltpbmRleF0sXHJcblxyXG5cdFx0XHRcdHR5cGUgPSB0eXBlT2YoaXRlbSk7XHJcblxyXG5cdFx0XHRpZiAodHlwZSAhPT0gJ29iamVjdCcpIGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIGl0ZW0pIHtcclxuXHJcblx0XHRcdFx0aWYgKGtleSA9PT0gJ19fcHJvdG9fXycpIGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0XHR2YXIgc2l0ZW0gPSBjbG9uZSA/IFB1YmxpYy5jbG9uZShpdGVtW2tleV0pIDogaXRlbVtrZXldO1xyXG5cclxuXHRcdFx0XHRpZiAocmVjdXJzaXZlKSB7XHJcblxyXG5cdFx0XHRcdFx0cmVzdWx0W2tleV0gPSBtZXJnZV9yZWN1cnNpdmUocmVzdWx0W2tleV0sIHNpdGVtKTtcclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRyZXN1bHRba2V5XSA9IHNpdGVtO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHR5cGUgb2YgdmFyaWFibGVcclxuXHQgKiBAcGFyYW0gbWl4ZWQgaW5wdXRcclxuXHQgKiBAcmV0dXJuIHN0cmluZ1xyXG5cdCAqXHJcblx0ICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS90eXBlb2Z2YXJcclxuXHQgKi9cclxuXHJcblx0ZnVuY3Rpb24gdHlwZU9mKGlucHV0KSB7XHJcblxyXG5cdFx0cmV0dXJuICh7fSkudG9TdHJpbmcuY2FsbChpbnB1dCkuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG5cdH1cclxuXHJcblx0aWYgKGlzTm9kZSkge1xyXG5cclxuXHRcdG1vZHVsZS5leHBvcnRzID0gUHVibGljO1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdHdpbmRvd1twdWJsaWNOYW1lXSA9IFB1YmxpYztcclxuXHJcblx0fVxyXG5cclxufSkodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpOyIsImltcG9ydCBnZXRKUyBmcm9tIFwiZ2V0LWpzXCI7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSBcIi4vZGVmYXVsdHNcIjtcbmltcG9ydCBtZXJnZSBmcm9tIFwibWVyZ2VcIjtcbmBgO1xuXG5jb25zdCBidWlsZFNjcmlwdFVSTHMgPSAodmVyc2lvbiA9IGRlZmF1bHRzLlZFUlNJT04pID0+IFtcbiAgYGh0dHBzOi8vanMuYXBpLmhlcmUuY29tLyR7dmVyc2lvbn0vbWFwc2pzLXNlcnZpY2UuanNgLCAvLyBTZXJ2aWNlXG4gIGBodHRwczovL2pzLmFwaS5oZXJlLmNvbS8ke3ZlcnNpb259L21hcHNqcy11aS5qc2AsIC8vIFVJXG4gIGBodHRwczovL2pzLmFwaS5oZXJlLmNvbS8ke3ZlcnNpb259L21hcHNqcy1tYXBldmVudHMuanNgLCAvLyBFdmVudHNcbiAgYGh0dHBzOi8vanMuYXBpLmhlcmUuY29tLyR7dmVyc2lvbn0vbWFwc2pzLXBsYWNlcy5qc2AgLy8gcGxhY2VzXG5dO1xuXG5jb25zdCBtZXJnZXIgPSBvcHRpb25zID0+IG1lcmdlKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuY29uc3Qgc2NyaXB0TG9hZGVyID0gb3B0aW9ucyA9PiB7XG4gIGNvbnN0IF9vcHRpb25zID0gbWVyZ2VyKG9wdGlvbnMgfHwge30pO1xuICBjb25zdCB7IFZFUlNJT04sIHZlcnNpb24sIGludGVyYWN0aXZlLCBpbmNsdWRlVUksIGluY2x1ZGVQbGFjZXMgfSA9IF9vcHRpb25zO1xuXG4gIGNvbnN0IF92ID0gdmVyc2lvbiB8fCBWRVJTSU9OO1xuICBjb25zdCB1cmxzID0gYnVpbGRTY3JpcHRVUkxzKF92KTtcblxuICAvLyBGaXJzdCBsZXQgdXMgcmVtb3ZlIHRoZSBldmVudHMgaWYgaXQgaXMgbm90IG5lZWRlZC4gUEVSRk9STUFOQ0UhISFcbiAgIWludGVyYWN0aXZlID8gdXJscy5zcGxpY2UoMiwgMSkgOiBudWxsO1xuICAvLyBSZW1vdmVzIHRoZSBVSSBpZiBub3QgbmVlZGVkXG4gICFpbmNsdWRlVUkgPyB1cmxzLnNwbGljZSgxLCAxKSA6IG51bGw7XG4gIC8vIFJlbW92ZSBwbGFjZXMgaWYgbm90IG5lZWRlZFxuICAhaW5jbHVkZVBsYWNlcyA/IHVybHMuc3BsaWNlKDMsIDEpIDogbnVsbDtcbiAgY29uc3QgY29yZVVSTCA9IGBodHRwczovL2pzLmFwaS5oZXJlLmNvbS8ke192fS9tYXBzanMtY29yZS5qc2A7XG5cbiAgcmV0dXJuIGdldEpTKGNvcmVVUkwpXG4gICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoaW5jbHVkZVVJKSB7XG4gICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoXCJyZWxcIiwgXCJzdHlsZXNoZWV0XCIpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0L2Nzc1wiKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgXCJocmVmXCIsXG4gICAgICAgICAgYGh0dHBzOi8vanMuYXBpLmhlcmUuY29tLyR7X3Z9L21hcHNqcy11aS5jc3NgXG4gICAgICAgICk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmQobGluayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0SlModXJscyk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgc2NyaXB0TG9hZGVyO1xuIiwiLyoqXG4gKiBAdHlwZSB7c3RyaW5nfSBEZWZhdWx0IHZlcnNpb24gZm9yIHRoZSBBUElcbiAqL1xuY29uc3QgVkVSU0lPTiA9IFwidjMvMy4wXCI7XG5jb25zdCBNQVBfVFlQRSA9IFwibm9ybWFsLm1hcFwiO1xuY29uc3QgX3Rlc3QgPSB0cnVlO1xuY29uc3QgbWFwVHlwZXMgPSB7XG4gIG5vcm1hbDogW1xuICAgIFwieGJhc2VcIixcbiAgICBcInhiYXNlbmlnaHRcIixcbiAgICBcImJhc2VcIixcbiAgICBcImJhc2VuaWdodFwiLFxuICAgIFwibWFwXCIsXG4gICAgXCJtYXBuaWdodFwiLFxuICAgIFwidHJhZmZpY1wiLFxuICAgIFwidHJhZmZpY25pZ2h0XCIsXG4gICAgXCJ0cmFuc2l0XCIsXG4gICAgXCJwYW5vcmFtYVwiLFxuICAgIFwicGFub3JhbWFuaWdodFwiLFxuICAgIFwibGFiZWxzXCIsXG4gICAgXCJtZXRhSW5mb1wiXG4gIF0sXG4gIHNhdGVsbGl0ZTogW1wieGJhc2VcIiwgXCJiYXNlXCIsIFwibWFwXCIsIFwidHJhZmZpY1wiLCBcInBhbm9yYW1hXCIsIFwibGFiZWxzXCJdLFxuICB0ZXJyYWluOiBbXCJ4YmFzZVwiLCBcImJhc2VcIiwgXCJtYXBcIiwgXCJ0cmFmZmljXCIsIFwicGFub3JhbWFcIiwgXCJsYWJlbHNcIl0sXG4gIGluY2lkZW50czogX3Rlc3QsXG4gIHZlbnVlczogX3Rlc3Rcbn07XG5cbmNvbnN0IG1hcE9wdGlvbnMgPSB7XG4gIHpvb206IDgsXG4gIGNlbnRlcjoge1xuICAgIGxhdDogNi41MjQzNzkzLFxuICAgIGxuZzogMy4zNzkyMDU3XG4gIH1cbn07XG5jb25zdCB1c2VFdmVudHMgPSBmYWxzZTtcbmNvbnN0IGludGVyYWN0aXZlID0gZmFsc2U7XG5jb25zdCBpbmNsdWRlVUkgPSBmYWxzZTtcbmNvbnN0IGNvbnRhaW5lcklkID0gXCJIRVJFX01BUF9DT05UQUlORVJcIjtcblxuY29uc3QgX21hcEV2ZW50cyA9IFtcbiAgXCJwb2ludGVyZG93blwiLFxuICBcInBvaW50ZXJ1cFwiLFxuICBcInBvaW50ZXJtb3ZlXCIsXG4gIFwicG9pbnRlcmVudGVyXCIsXG4gIFwicG9pbnRlcmxlYXZlXCIsXG4gIFwicG9pbnRlcmNhbmNlbFwiLFxuICBcImRyYWdzdGFydFwiLFxuICBcImRyYWdcIixcbiAgXCJkcmFnZW5kXCIsXG4gIFwidGFiXCIsXG4gIFwiZGJsdGFwXCJcbl07XG5cbmNvbnN0IGRlZmF1bHRDbGFzc05hbWUgPSBcImhlcmUtbWFwLWNvbnRhaW5lclwiO1xuXG5jb25zdCBpbmNsdWRlUGxhY2VzID0gZmFsc2U7XG5cbi8vIEZ1bmN0aW9uIHRoYXQgZG9lcyByZWFsbHkgbm90aGluZywgc3RpbGwgaXQgaXMgYSBmdW5jdGlvbiwgYW5kIGhhcyBpdHMgcmlnaHQhXG5jb25zdCBub29wID0gKCkgPT4ge307XG5sZXQgbWFwRXZlbnRzID0ge307XG5fbWFwRXZlbnRzLm1hcChuYW1lID0+IChtYXBFdmVudHNbbmFtZV0gPSBub29wKSk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgVkVSU0lPTixcbiAgbWFwVHlwZXMsXG4gIG1hcEV2ZW50cyxcbiAgTUFQX1RZUEUsXG4gIG1hcE9wdGlvbnMsXG4gIGludGVyYWN0aXZlLFxuICBpbmNsdWRlVUksXG4gIGluY2x1ZGVQbGFjZXMsXG4gIHVzZUV2ZW50cyxcbiAgY29udGFpbmVySWQsXG4gIGRlZmF1bHRDbGFzc05hbWVcbn07XG4iLCIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcy5mb3VuZGF0aW9uLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbnZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgSE9UX1NQQU4gPSAxNjtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICovXG5mdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIGtleSA9PSAnX19wcm90b19fJ1xuICAgID8gdW5kZWZpbmVkXG4gICAgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgVWludDhBcnJheSA9IHJvb3QuVWludDhBcnJheSxcbiAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcbiAgICBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KSxcbiAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTm93ID0gRGF0ZS5ub3c7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAqL1xudmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gIHJldHVybiBmdW5jdGlvbihwcm90bykge1xuICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgIH1cbiAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3Q7XG4gICAgb2JqZWN0LnByb3RvdHlwZSA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufSgpKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICAtLXRoaXMuc2l6ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgICsrdGhpcy5zaXplO1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqL1xuZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cblN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG5TdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG5TdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG5TdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG5TdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICApKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXNzaWduVmFsdWVgIGFuZCBgYXNzaWduTWVyZ2VWYWx1ZWAgd2l0aG91dFxuICogdmFsdWUgY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbnZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICB9XG4gIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH0sIGtleXNJbik7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICBpZiAoc3RhY2tlZCkge1xuICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgKHNyY0luZGV4ICYmIGlzRnVuY3Rpb24ob2JqVmFsdWUpKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgbWVyZ2VGdW5jKG5ld1ZhbHVlLCBzcmNWYWx1ZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICB9XG4gIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICovXG5mdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICBpZiAoaXNEZWVwKSB7XG4gICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICB9XG4gIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgICBpZiAoaXNOZXcpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgIGxlbmd0aCA9IDE7XG4gICAgfVxuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gKi9cbmZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgIDoge307XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICovXG52YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gKiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gIHZhciBjb3VudCA9IDAsXG4gICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gKiBpcyBhbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuOC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICoga2V5ZWQgcHJvcGVydGllcyBvZiBgdmFsdWVgIHRvIG93biBwcm9wZXJ0aWVzIG9mIHRoZSBwbGFpbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG4gKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICovXG5mdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5c0luKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKi9cbmZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gYW5kXG4gKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gKiBza2lwcGVkIGlmIGEgZGVzdGluYXRpb24gdmFsdWUgZXhpc3RzLiBBcnJheSBhbmQgcGxhaW4gb2JqZWN0IHByb3BlcnRpZXNcbiAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAqIHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjUuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0ge1xuICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICogfTtcbiAqXG4gKiB2YXIgb3RoZXIgPSB7XG4gKiAgICdhJzogW3sgJ2MnOiAzIH0sIHsgJ2UnOiA1IH1dXG4gKiB9O1xuICpcbiAqIF8ubWVyZ2Uob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gKi9cbnZhciBtZXJnZSA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCkge1xuICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqXG4gKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1lcmdlO1xuIiwiaW1wb3J0IGhlcmVNYXBKUyBmcm9tIFwiQGxpbWlzdGFoL2hlcmUtbWFwLWpzXCI7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSBcIi4vZGVmYXVsdHNcIjtcbmltcG9ydCBtZXJnZSBmcm9tIFwibG9kYXNoLm1lcmdlXCI7XG5cbi8vIE1lcmdlcyB0aGUgb3B0aW9uIHdpdGggdGhlIGRlZmF1bHRzIHRvIGNyZWF0ZSBhIHVuaXNvbiBhbmQgbWFrZSByZXF1aXJlZCB2YWx1ZXMgYXZhaWxhYmxlXG5jb25zdCBvcHRpb25NZXJnZXIgPSBvcHRpb25zID0+IG1lcmdlKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuLyoqXG4gKiBTY3JpcHQgaW5pdGlhbGl6YXRpb24sIGJvb3RzdHJhcHMgbmVlZGVkIHV0aWxzIGZvciBzdWNjZXNzZnVsIHJ1bm5pbmcgb2YgdGhlIGxpYnJhcnlcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBvcHRpb25zLnZlcnNpb24gVmVyc2lvbiBvZiB0aGUgYXBpIHRvIGxvYWQuIERlZmF1bHRzIHRvIHYzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gb3B0aW9ucy5pbnRlcmFjdGl2ZSBBZGRzIGludGVyYWN0aXZlIHNjcmlwdHNcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBvcHRpb25zLmluY2x1ZGVVSSBTaG91bGQgYWRkIHRoZSBVSSBzY3JpcHRzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gb3B0aW9ucy5pbmNsdWRlUGxhY2VzIEluY2x1ZGUgdGhlIHBsYWNlcyBzY3JpcHRcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIEl0ZW1zIG5lY2Vzc2FyeSB0byBydW4gdGhlIGxpYnJhcnlcbiAqL1xuY29uc3QgaW5pdGlhbGl6ZXIgPSBvcHRpb25zID0+IHtcbiAgY29uc3QgX29wdGlvbnMgPSBvcHRpb25NZXJnZXIob3B0aW9ucyB8fCB7fSk7XG4gIGNvbnN0IHsgVkVSU0lPTiwgdmVyc2lvbiwgaW50ZXJhY3RpdmUsIGluY2x1ZGVVSSwgaW5jbHVkZVBsYWNlcyB9ID0gX29wdGlvbnM7XG4gIC8vIFJldHVybnMgYXN5bmMgbG9hZGluZyBvZiB0aGUgY29tcG9uZW50XG4gIC8vIEZpcnN0IGxvYWQgdGhlIGNvcmUsIHRvIHNhdmUgdXMgcmVmZXJlbmNlIGVycm9yIGlmIGFsbCBvZiB0aGUgbGlicmFyaWVzIGFyZSBsb2FkZWQgYXN5bmNocm9ub3VzbHkgZHVlIHRvIHJhY2UgY29uZGl0aW9uc1xuICByZXR1cm4gaGVyZU1hcEpTKHtcbiAgICBpbmNsdWRlVUksXG4gICAgaW5jbHVkZVBsYWNlcyxcbiAgICBpbnRlcmFjdGl2ZSxcbiAgICB2ZXJzaW9uOiB2ZXJzaW9uIHx8IFZFUlNJT05cbiAgfSkudGhlbigoKSA9PiBfb3B0aW9ucyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpbml0aWFsaXplcjtcbiIsImV4cG9ydCBkZWZhdWx0IG9wdGlvbnMgPT4ge1xuICBjb25zdCB7IGFwcF9pZCwgYXBwX2NvZGUgfSA9IG9wdGlvbnM7XG4gIGlmICghYXBwX2lkIHx8ICFhcHBfY29kZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk9wdGlvbnMgbXVzdCBpbmNsdWRlIGFwcElkIGFuZCBhcHBDb2RlXCIpO1xuICB9XG4gIGlmICh0eXBlb2YgSCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhSC5zZXJ2aWNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSGVyZSBNYXAgSmF2YVNjcmlwdHMgaXMgbm90IGxvYWRlZC5cIik7XG4gIH1cbiAgcmV0dXJuIG5ldyBILnNlcnZpY2UuUGxhdGZvcm0ob3B0aW9ucyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeCkge1xuXHR2YXIgdHlwZSA9IHR5cGVvZiB4O1xuXHRyZXR1cm4geCAhPT0gbnVsbCAmJiAodHlwZSA9PT0gJ29iamVjdCcgfHwgdHlwZSA9PT0gJ2Z1bmN0aW9uJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGlzT2JqID0gcmVxdWlyZSgnaXMtb2JqJyk7XG5cbm1vZHVsZS5leHBvcnRzLmdldCA9IGZ1bmN0aW9uIChvYmosIHBhdGgpIHtcblx0aWYgKCFpc09iaihvYmopIHx8IHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiBvYmo7XG5cdH1cblxuXHR2YXIgcGF0aEFyciA9IGdldFBhdGhTZWdtZW50cyhwYXRoKTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHBhdGhBcnIubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBwYXRoQXJyW2ldKSB8fCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsIHBhdGhBcnJbaV0pO1xuXHRcdGlmIChkZXNjcmlwdG9yICYmICFkZXNjcmlwdG9yLmVudW1lcmFibGUpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRvYmogPSBvYmpbcGF0aEFycltpXV07XG5cblx0XHRpZiAob2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsKSB7XG5cdFx0XHQvLyBgb2JqYCBpcyBlaXRoZXIgYHVuZGVmaW5lZGAgb3IgYG51bGxgIHNvIHdlIHdhbnQgdG8gc3RvcCB0aGUgbG9vcCwgYW5kXG5cdFx0XHQvLyBpZiB0aGlzIGlzIG5vdCB0aGUgbGFzdCBiaXQgb2YgdGhlIHBhdGgsIGFuZFxuXHRcdFx0Ly8gaWYgaXQgZGlkJ3QgcmV0dXJuIGB1bmRlZmluZWRgXG5cdFx0XHQvLyBpdCB3b3VsZCByZXR1cm4gYG51bGxgIGlmIGBvYmpgIGlzIGBudWxsYFxuXHRcdFx0Ly8gYnV0IHdlIHdhbnQgYGdldCh7Zm9vOiBudWxsfSwgJ2Zvby5iYXInKWAgdG8gZXF1YWwgYHVuZGVmaW5lZGAgbm90IGBudWxsYFxuXHRcdFx0aWYgKGkgIT09IHBhdGhBcnIubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gb2JqO1xufTtcblxubW9kdWxlLmV4cG9ydHMuc2V0ID0gZnVuY3Rpb24gKG9iaiwgcGF0aCwgdmFsdWUpIHtcblx0aWYgKCFpc09iaihvYmopIHx8IHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHZhciBwYXRoQXJyID0gZ2V0UGF0aFNlZ21lbnRzKHBhdGgpO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aEFyci5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBwID0gcGF0aEFycltpXTtcblxuXHRcdGlmICghaXNPYmoob2JqW3BdKSkge1xuXHRcdFx0b2JqW3BdID0ge307XG5cdFx0fVxuXG5cdFx0aWYgKGkgPT09IHBhdGhBcnIubGVuZ3RoIC0gMSkge1xuXHRcdFx0b2JqW3BdID0gdmFsdWU7XG5cdFx0fVxuXG5cdFx0b2JqID0gb2JqW3BdO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5kZWxldGUgPSBmdW5jdGlvbiAob2JqLCBwYXRoKSB7XG5cdGlmICghaXNPYmoob2JqKSB8fCB0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgcGF0aEFyciA9IGdldFBhdGhTZWdtZW50cyhwYXRoKTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHBhdGhBcnIubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgcCA9IHBhdGhBcnJbaV07XG5cblx0XHRpZiAoaSA9PT0gcGF0aEFyci5sZW5ndGggLSAxKSB7XG5cdFx0XHRkZWxldGUgb2JqW3BdO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdG9iaiA9IG9ialtwXTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMuaGFzID0gZnVuY3Rpb24gKG9iaiwgcGF0aCkge1xuXHRpZiAoIWlzT2JqKG9iaikgfHwgdHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0dmFyIHBhdGhBcnIgPSBnZXRQYXRoU2VnbWVudHMocGF0aCk7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoQXJyLmxlbmd0aDsgaSsrKSB7XG5cdFx0b2JqID0gb2JqW3BhdGhBcnJbaV1dO1xuXG5cdFx0aWYgKG9iaiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBnZXRQYXRoU2VnbWVudHMocGF0aCkge1xuXHR2YXIgcGF0aEFyciA9IHBhdGguc3BsaXQoJy4nKTtcblx0dmFyIHBhcnRzID0gW107XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoQXJyLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHAgPSBwYXRoQXJyW2ldO1xuXG5cdFx0d2hpbGUgKHBbcC5sZW5ndGggLSAxXSA9PT0gJ1xcXFwnICYmIHBhdGhBcnJbaSArIDFdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHAgPSBwLnNsaWNlKDAsIC0xKSArICcuJztcblx0XHRcdHAgKz0gcGF0aEFyclsrK2ldO1xuXHRcdH1cblxuXHRcdHBhcnRzLnB1c2gocCk7XG5cdH1cblxuXHRyZXR1cm4gcGFydHM7XG59XG4iLCJpbXBvcnQgZG90UHJvcCBmcm9tIFwiZG90LXByb3BcIjtcblxuZXhwb3J0IGRlZmF1bHQgKG1hcFR5cGVzLCBtYXBUeXBlKSA9PiB7XG4gIGNvbnN0IGl0ZW1zID0gbWFwVHlwZS5zcGxpdChcIi5cIik7XG4gIGNvbnN0IG1haW5UeXBlID0gbWFwVHlwZXNbaXRlbXNbMF1dO1xuICAvLyBTb21lIG9mIHRoZSB0eXBlcyBhcmUgYXJyYXksIGFuZCBzaG91bGQgaGF2ZSB0aGUgc2Vjb25kIGVsZW1lbnQgaW4gdGhlIHNwbGl0IHR5cGUgdG8gYmUgYW4gaXRlbSBpbiBpdFxuICBjb25zdCBfdGVzdCA9IEFycmF5LmlzQXJyYXkobWFpblR5cGUpICYmIG1haW5UeXBlLmluY2x1ZGVzKGl0ZW1zWzFdKTtcbiAgY29uc3QgX190ZXN0ID0gbWFpblR5cGUgPT09IHRydWU7XG4gIGlmICghX3Rlc3QgJiYgIV9fdGVzdCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwibWFwVHlwZSBTaG91bGQgYmUgb25lIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIuaGVyZS5jb20vZG9jdW1lbnRhdGlvbi9tYXBzL3RvcGljcy9tYXAtdHlwZXMuaHRtbCBpbiBkb3Qgbm90YXRpb25cIlxuICAgICk7XG4gIH1cbn07XG4iLCJpbXBvcnQgZG90UHJvcCBmcm9tIFwiZG90LXByb3BcIjtcbmltcG9ydCB2YWxpZGF0ZU1hcFR5cGUgZnJvbSBcIi4vdmFsaWRhdGVNYXBUeXBlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChwbGF0Zm9ybSwgY29udGFpbmVyLCBtYXBPcHRpb25zLCBtYXBUeXBlcywgbWFwVHlwZSkgPT4ge1xuICB2YWxpZGF0ZU1hcFR5cGUobWFwVHlwZXMsIG1hcFR5cGUpO1xuICAvLyBHZXQgYWxsIHRoZSBkZWZhdWx0IGxheWVycyBzbyB3ZSBjYW4gc2V0IHdoaWNoIHRvIHVzZSBiYXNlZCBvbiB0aGUgbWFwIHR5cGVcbiAgY29uc3QgZGVmYXVsdExheWVycyA9IHBsYXRmb3JtLmNyZWF0ZURlZmF1bHRMYXllcnMoKTtcbiAgLy8gSW5zdGFudGlhdGUgKGFuZCBkaXNwbGF5KSBhIG1hcCBvYmplY3Q6XG4gIHJldHVybiBuZXcgSC5NYXAoY29udGFpbmVyLCBkb3RQcm9wLmdldChkZWZhdWx0TGF5ZXJzLCBtYXBUeXBlKSwgbWFwT3B0aW9ucyk7XG59O1xuIiwiLy8gQWRkIGludGVyYWN0aXZpdHkgaWYgc2V0IGZyb20gdGhlIG9wdGlvbnNcbi8vIGludGVyYWN0aXZlIGFuZCB1c2VFdmVudHMgbXVzdCBiZSB0cnVlIHRvIHVzZSBtYXAgZXZlbnRzXG5jb25zdCBjaGFuZ2VDdXJzb3JUb0dyYWIgPSAoKSA9PiB7fTtcblxuZXhwb3J0IGRlZmF1bHQgKG1hcCwgaW50ZXJhY3RpdmUsIHVzZUV2ZW50cywgbWFwRXZlbnRzKSA9PiB7XG4gIGxldCBiZWhhdmlvciA9IGludGVyYWN0aXZlXG4gICAgPyBuZXcgSC5tYXBldmVudHMuQmVoYXZpb3IobmV3IEgubWFwZXZlbnRzLk1hcEV2ZW50cyhtYXApKVxuICAgIDogbnVsbDtcbiAgaWYgKHVzZUV2ZW50cyAmJiBpbnRlcmFjdGl2ZSkge1xuICAgIGZvciAoY29uc3QgdHlwZSBpbiBtYXBFdmVudHMpIHtcbiAgICAgIGlmIChtYXBFdmVudHMuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBtYXBFdmVudHNbdHlwZV07XG4gICAgICAgIG1hcC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGV2dCA9PiB7XG4gICAgICAgICAgLy8gc3dpdGNoIChldnQudHlwZSkge1xuICAgICAgICAgIC8vICAgY2FzZSBcInBvaW50ZXJlbnRlclwiOlxuICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIkVudGVyaW5nXCIpO1xuICAgICAgICAgIC8vICAgY2FzZSBcInBvaW50ZXJsZWF2ZVwiOlxuICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIkxlYXZpbmdcIik7XG4gICAgICAgICAgLy8gICBjYXNlIFwicG9pbnRlcm1vdmVcIjpcbiAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJNb3ZpbmdcIik7XG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gYmVoYXZpb3I7XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgKHBsYXRmb3JtLCBtYXAsIGluY2x1ZGVVSSwgdWlMYW5nKSA9PiB7XG4gIGlmICghaW5jbHVkZVVJKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW5jbHVkZVVJIG11c3QgYmUgc2V0IHRvIHRydWUgdG8gaW5pdGlhbGl6ZSBkZWZhdWx0IFVJXCIpO1xuICB9XG4gIC8vIENyZWF0ZSB0aGUgZGVmYXVsdCBVSSBjb21wb25lbnRzXG4gIHJldHVybiBILnVpLlVJLmNyZWF0ZURlZmF1bHQobWFwLCBwbGF0Zm9ybS5jcmVhdGVEZWZhdWx0TGF5ZXJzKCksIHVpTGFuZyk7XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgY29uc3QgY3NzID0gYC5ncmFiID0ge2N1cnNvcjogbW92ZTtjdXJzb3I6IGdyYWI7Y3Vyc29yOiAtbW96LWdyYWI7Y3Vyc29yOiAtd2Via2l0LWdyYWI7fS5ncmFiYmluZ3tjdXJzb3I6Z3JhYmJpbmc7Y3Vyc29yOi1tb3otZ3JhYmJpbmc7Y3Vyc29yOi13ZWJraXQtZ3JhYmJpbmd9YDtcbiAgc3R5bGUudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICAvLyBUaGlzIGlzIHJlcXVpcmVkIGZvciBJRTggYW5kIGJlbG93LlxuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxuICBjb25zdCBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XG4gIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmltcG9ydCBidWlsZCBmcm9tIFwiLi4vLi4vbGlicy9tYXBCdWlsZGVyXCI7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSBcIi4uLy4uL2xpYnMvZGVmYXVsdHNcIjtcbmltcG9ydCBtZXJnZSBmcm9tIFwibG9kYXNoLm1lcmdlXCI7XG5cbmNsYXNzIEhNYXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGJ1aWxkZXI6IHt9IH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCBfcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IF9vcHRpb25zID0gbWVyZ2UoXG4gICAgICB7XG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIuY3VycmVudCxcbiAgICAgICAgYnVpbGQ6IHRydWVcbiAgICAgIH0sXG4gICAgICBfcHJvcHMub3B0aW9ucyxcbiAgICAgIF9wcm9wc1xuICAgICk7XG4gICAgZGVsZXRlIF9vcHRpb25zLm9wdGlvbnM7XG4gICAgY29uc3QgYnVpbGRlciA9IGJ1aWxkKF9wcm9wcy5wbGF0Zm9ybSwgX29wdGlvbnMpO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBidWlsZGVyIH0pO1xuICB9XG4gIGNyZWF0ZUxvYWRpbmdDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIDxkaXY+TG9hZGluZzwvZGl2PjtcbiAgfVxuICBkaXNwbGF5Q2hpbGRyZW4oKSB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IG1hcCwgcGxhdGZvcm0sIHVpLCBvcHRpb25zIH0gPSB0aGlzLnN0YXRlLmJ1aWxkZXI7XG4gICAgcmV0dXJuIFJlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgY2hpbGQgPT5cbiAgICAgIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgeyBtYXAsIHBsYXRmb3JtLCB1aSwgX19vcHRpb25zOiBvcHRpb25zIH0pXG4gICAgKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBzdHlsZSwgbG9hZGluZ0VsIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gdGhpcy5zdGF0ZS5idWlsZGVyO1xuXG4gICAgY29uc3QgbG9hZGluZyA9IGxvYWRpbmdFbCB8fCB0aGlzLmNyZWF0ZUxvYWRpbmdDb21wb25lbnQoKTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBpZD17ZGVmYXVsdHMuY29udGFpbmVySWR9XG4gICAgICAgIGNsYXNzTmFtZT17ZGVmYXVsdHMuZGVmYXVsdENsYXNzTmFtZX1cbiAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICByZWY9e3RoaXMuY29udGFpbmVyfVxuICAgICAgPlxuICAgICAgICB7dHlwZW9mIEggPT09IFwidW5kZWZpbmVkXCIgJiYgIW9wdGlvbnMgJiYgbG9hZGluZ31cbiAgICAgICAge3R5cGVvZiBIID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMgJiYgdGhpcy5kaXNwbGF5Q2hpbGRyZW4oKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuSE1hcC5wcm9wVHlwZXMgPSB7XG4gIHZlcnNpb246IFByb3BUeXBlcy5zdHJpbmcsXG4gIG1hcFR5cGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHVzZUV2ZW50czogUHJvcFR5cGVzLmJvb2wsXG4gIGludGVyYWN0aXZlOiBQcm9wVHlwZXMuYm9vbCxcbiAgaW5jbHVkZVVJOiBQcm9wVHlwZXMuYm9vbCxcbiAgbWFwRXZlbnRzOiBQcm9wVHlwZXMub2JqZWN0LFxuICBwbGF0Zm9ybTogUHJvcFR5cGVzLm9iamVjdCxcbiAgb3B0aW9uczogUHJvcFR5cGVzLm9iamVjdCxcbiAgbWFwT3B0aW9uczogUHJvcFR5cGVzLm9iamVjdFxufTtcblxuZXhwb3J0IGRlZmF1bHQgSE1hcDtcbiIsImltcG9ydCBpbml0TWFwIGZyb20gXCIuL2luaXRNYXBcIjtcbmltcG9ydCBpbml0SW50ZXJhY3Rpb24gZnJvbSBcIi4vaW5pdEludGVyYWN0aW9uXCI7XG5pbXBvcnQgaW5pdERlZmF1bHRVSSBmcm9tIFwiLi9pbml0RGVmYXVsdFVJXCI7XG5pbXBvcnQgaW5pdEludGVyYWN0aW9uU3R5bGVzIGZyb20gXCIuL2luaXRJbnRlcmFjdGlvblN0eWxlc1wiO1xuXG4vKipcbiAqIFRoZSB3aG9sZSBsaWJyYXJ5IGlzIGJvb3RzdHJhcHBlZCBhZnRlciB0aGUgaW5pdGlhbGl6YXRpb24gaXMgZG9uZSB1c2luZyB0aGUgb3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IG9wdGlvbnMudmVyc2lvbiBWZXJzaW9uIG9mIHRoZSBhcGkgdG8gbG9hZC4gRGVmYXVsdHMgdG8gdjNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBvcHRpb25zLlZFUlNJT04gRGVmYXVsdCB2ZXJzaW9uIERlZmF1bHRzIHRvIHYzXG4gKiBAcHJvcGVydHkge29iamVjdH0gb3B0aW9ucy5tYXBFdmVudHMgTWFwIGV2ZW50cyBpbXBsZW1lbnRhdGlvblxuICogQHByb3BlcnR5IHtvYmplY3R9IG9wdGlvbnMubWFwT3B0aW9ucyBPcHRpb25zIG5lZWRlZCB0byBpbml0aWFsaXplIHRoZSBtYXBcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBvcHRpb25zLnBsYXRmb3JtT3B0aW9ucyBPcHRpb25zIG5lZWRlZCB0byBpbml0aWFsaXplIHRoZSBtYXBcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gb3B0aW9ucy5pbnRlcmFjdGl2ZSBBZGRzIGludGVyYWN0aXZpdHkgdG8gdGhlIE1BUFxuICogQHByb3BlcnR5IHtib29sZWFufSBvcHRpb25zLnVzZUV2ZW50cyBBZGRzIGV2ZW50IGhhbmRsaW5nIHRvIHRoZSBtYXBcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gb3B0aW9ucy5pbmNsdWRlVUkgQWRkIFVJIHNjcmlwdCB0byB0aGUgTUFQXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IG9wdGlvbnMuYnVpbGQgRGV0ZXJtaW5lcyBpZiB0aGUgbWFwIHNob3VsZCBiZSBidWlsdFxuICogQHByb3BlcnR5IHtOb2RlfSBvcHRpb25zLmNvbnRhaW5lciBET00gRWxlbWVudCB0byBob2xkIHRoZSBNQVBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBvcHRpb25zLnVpTGFuZyBMYW5ndWFnZSBvZiB0aGUgVUlcbiAqIEBwcm9wZXJ0eSB7YnVpbGR9IG9wdGlvbnMuYnVpbGQgRmxhZyB0byB0ZWxsIGlmIHRoZSBNQVAgc2hvdWxkIGJlIGJ1aWxkIGltbWVkaWF0ZWx5XG4gKiBAcHJvcGVydHkge3N0cmluZ30gb3B0aW9ucy5hcHBJZCBIZXJlIE1hcCBBUFAgSURcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBvcHRpb25zLmFwcENvZGUgSGVyZSBNYXAgQVBQIGNvZGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBvcHRpb25zLm1hcFR5cGUgVGhlIHR5cGUgb2YgdGhlIG1hcCB0byBsb2FkIGUuZyAvLyBcIm5vcm1hbC5tYXBcIlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG9wdGlvbnMuTUFQX1RZUEUgRGVmYXVsdCBtYXAgdHlwZSB0byBsb2FkIFwibm9ybWFsLm1hcFwiXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBJdGVtcyBuZWNlc3NhcnkgdG8gcnVuIHRoZSBsaWJyYXJ5XG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5leHBvcnQgZGVmYXVsdCAocGxhdGZvcm0sIG9wdGlvbnMpID0+IHtcbiAgLy8gR2V0IHZhbHVlcyBmcm9tIHRoZSBvcHRpb25zXG4gIGNvbnN0IHtcbiAgICB1c2VFdmVudHMsXG4gICAgbWFwRXZlbnRzLFxuICAgIGludGVyYWN0aXZlLFxuICAgIGluY2x1ZGVVSSxcbiAgICBtYXBUeXBlLFxuICAgIE1BUF9UWVBFLFxuICAgIG1hcFR5cGVzLFxuICAgIG1hcE9wdGlvbnMsXG4gICAgdWlMYW5nLFxuICAgIGNvbnRhaW5lcixcbiAgICBidWlsZFxuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBfbWFwVHlwZSA9IG1hcFR5cGUgfHwgTUFQX1RZUEU7XG5cbiAgbGV0IHJldCA9IHsgb3B0aW9uczogeyAuLi5vcHRpb25zLCBNQVBfVFlQRTogX21hcFR5cGUgfSwgcGxhdGZvcm0gfTtcblxuICBpZiAoY29udGFpbmVyICYmIGJ1aWxkKSB7XG4gICAgLy8gQ3JlYXRlIGEgTWFwXG4gICAgcmV0Lm1hcCA9IGluaXRNYXAocGxhdGZvcm0sIGNvbnRhaW5lciwgbWFwT3B0aW9ucywgbWFwVHlwZXMsIF9tYXBUeXBlKTtcbiAgICByZXQuaW50ZXJhY3Rpb24gPSBpbml0SW50ZXJhY3Rpb24oXG4gICAgICByZXQubWFwLFxuICAgICAgaW50ZXJhY3RpdmUsXG4gICAgICB1c2VFdmVudHMsXG4gICAgICBtYXBFdmVudHNcbiAgICApO1xuICAgIGlmIChpbmNsdWRlVUkpIHtcbiAgICAgIHJldC51aSA9IGluaXREZWZhdWx0VUkocGxhdGZvcm0sIHJldC5tYXAsIGluY2x1ZGVVSSwgdWlMYW5nKTtcbiAgICB9XG4gICAgLy8gQWRkcyB0aGUgZ3JhYmJpbmcgdG8gdGhlIGRvY3VtZW50XG4gICAgaW5pdEludGVyYWN0aW9uU3R5bGVzKCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0LmNyZWF0ZU1hcCA9IGluaXRNYXA7XG4gICAgcmV0LmNyZWF0ZVBsYXRmb3JtID0gaW5pdFBsYXRmb3JtO1xuICAgIHJldC5jcmVhdGVJbnRlcmFjdGlvbiA9IGluaXRJbnRlcmFjdGlvbjtcbiAgICByZXQuY3JlYXRlRGVmYXVsdFVJID0gaW5pdERlZmF1bHRVSTtcbiAgICByZXQuY3JlYXRlSW50ZXJhY3Rpb25TdHlsZXMgPSBpbml0SW50ZXJhY3Rpb25TdHlsZXM7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5pbXBvcnQgbWVyZ2UgZnJvbSBcImxvZGFzaC5tZXJnZVwiO1xuXG5mdW5jdGlvbiBQb2x5TGluZShwcm9wcykge1xuICBjb25zdCB7XG4gICAgcG9pbnRzLFxuICAgIG9wdGlvbnMsXG4gICAgbWFwLFxuICAgIHNldFZpZXdCb3VuZHMsXG4gICAgcGxhdGZvcm0sXG4gICAgdWksXG4gICAgX19vcHRpb25zXG4gIH0gPSBtZXJnZSh7IHNldFZpZXdCb3VuZHM6IHRydWUgfSwgcHJvcHMpO1xuICBpZiAoIUggfHwgIUgubWFwIHx8ICFtYXApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJITWFwIGhhcyB0byBiZSBpbml0aWFsaXplZCBiZWZvcmUgYWRkaW5nIE1hcCBPYmplY3RzXCIpO1xuICB9XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KHBvaW50cykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcInBvaW50cyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyBjb250YWluaW5nIGxhdCBhbmQgbG5nIHByb3BlcnRpZXNcIlxuICAgICk7XG4gIH1cbiAgLy8gSW5pdGlhbGl6ZSBhIExpbmVTdHJpbmcgYW5kIGFkZCBhbGwgdGhlIHBvaW50cyB0byBpdDpcbiAgdmFyIGxpbmVTdHJpbmcgPSBuZXcgSC5nZW8uTGluZVN0cmluZygpO1xuICBwb2ludHMuZm9yRWFjaChmdW5jdGlvbihwb2ludCkge1xuICAgIGxpbmVTdHJpbmcucHVzaFBvaW50KHBvaW50KTtcbiAgfSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBhIHBvbHlMaW5lIHdpdGggdGhlIGxpbmVTdHJpbmc6XG4gIHZhciBwb2x5TGluZSA9IG5ldyBILm1hcC5Qb2x5bGluZShsaW5lU3RyaW5nLCBvcHRpb25zKTtcblxuICAvLyBBZGQgdGhlIHBvbHlMaW5lIHRvIHRoZSBtYXA6XG4gIG1hcC5hZGRPYmplY3QocG9seUxpbmUpO1xuXG4gIGlmIChzZXRWaWV3Qm91bmRzKSB7XG4gICAgLy8gWm9vbSB0aGUgbWFwIHRvIG1ha2Ugc3VyZSB0aGUgd2hvbGUgcG9seUxpbmUgaXMgdmlzaWJsZTpcbiAgICBtYXAuc2V0Vmlld0JvdW5kcyhwb2x5TGluZS5nZXRCb3VuZHMoKSk7XG4gIH1cblxuICAvLyBUaGVyZSBpcyBubyBuZWVkIHRvIHJlbmRlciBzb21ldGhpbmcgdXNlZnVsIGhlcmUsIEhlcmVNYXAgZG9lcyB0aGF0IG1hZ2ljYWxseVxuICByZXR1cm4gPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fSAvPjtcbn1cblxuUG9seUxpbmUucHJvcFR5cGVzID0ge1xuICBwb2ludHM6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLFxuICBvcHRpb25zOiBQcm9wVHlwZXMub2JqZWN0LFxuICBtYXA6IFByb3BUeXBlcy5vYmplY3QsXG4gIHNldFZpZXdCb3VuZHM6IFByb3BUeXBlcy5ib29sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQb2x5TGluZTtcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmltcG9ydCBtZXJnZSBmcm9tIFwibG9kYXNoLm1lcmdlXCI7XG5cbmZ1bmN0aW9uIFBvbHlnb24ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHBvaW50cyxcbiAgICBtYXAsXG4gICAgc2V0Vmlld0JvdW5kcyxcbiAgICBvcHRpb25zLFxuICAgIHBsYXRmb3JtLFxuICAgIHVpLFxuICAgIF9fb3B0aW9uc1xuICB9ID0gbWVyZ2UoeyBzZXRWaWV3Qm91bmRzOiB0cnVlIH0sIHByb3BzKTtcbiAgaWYgKCFIIHx8ICFILm1hcCB8fCAhbWFwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSE1hcCBoYXMgdG8gYmUgaW5pdGlhbGl6ZWQgYmVmb3JlIGFkZGluZyBNYXAgT2JqZWN0c1wiKTtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwicG9pbnRzIHNob3VsZCBiZSBhbiBhcnJheSBvZiBudW1iZXIgdG8gdXNlIGluIGRyYXdpbmcgdGhlIHBvaW50c1wiXG4gICAgKTtcbiAgfVxuXG4gIGxldCBsaW5lU3RyaW5nID0ge307XG4gIGNvbnN0IGZpcnN0RWwgPSBwb2ludHNbMF07XG4gIGlmICh0eXBlb2YgZmlyc3RFbCA9PT0gXCJzdHJpbmdcIiAmJiBmaXJzdEVsLnNwbGl0KFwiLFwiKS5sZW5ndGggPT09IDIpIHtcbiAgICBsaW5lU3RyaW5nID0gbmV3IEguZ2VvLkxpbmVTdHJpbmcoKTtcbiAgICBwb2ludHMuZm9yRWFjaChmdW5jdGlvbihjb29yZHMpIHtcbiAgICAgIGxpbmVTdHJpbmcucHVzaExhdExuZ0FsdC5hcHBseShsaW5lU3RyaW5nLCBjb29yZHMuc3BsaXQoXCIsXCIpKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBsaW5lU3RyaW5nID0gbmV3IEguZ2VvLkxpbmVTdHJpbmcocG9pbnRzLCBcInZhbHVlcyBsYXQgbG5nIGFsdFwiKTtcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgYSBMaW5lU3RyaW5nIGFuZCBhZGQgYWxsIHRoZSBwb2ludHMgdG8gaXQ6XG4gIGNvbnN0IHBvbHlnb24gPSBuZXcgSC5tYXAuUG9seWdvbihsaW5lU3RyaW5nLCBvcHRpb25zKTtcblxuICAvLyBBZGQgdGhlIHBvbHlMaW5lIHRvIHRoZSBtYXA6XG4gIG1hcC5hZGRPYmplY3QocG9seWdvbik7XG5cbiAgaWYgKHNldFZpZXdCb3VuZHMpIHtcbiAgICAvLyBab29tIHRoZSBtYXAgdG8gbWFrZSBzdXJlIHRoZSB3aG9sZSBwb2x5Z29uIGlzIHZpc2libGU6XG4gICAgbWFwLnNldFZpZXdCb3VuZHMocG9seWdvbi5nZXRCb3VuZHMoKSk7XG4gIH1cblxuICAvLyBUaGVyZSBpcyBubyBuZWVkIHRvIHJlbmRlciBzb21ldGhpbmcgdXNlZnVsIGhlcmUsIEhlcmVNYXAgZG9lcyB0aGF0IG1hZ2ljYWxseVxuICByZXR1cm4gPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fSAvPjtcbn1cblxuUG9seWdvbi5wcm9wVHlwZXMgPSB7XG4gIHBvaW50czogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG4gIG9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3QsXG4gIG1hcDogUHJvcFR5cGVzLm9iamVjdCxcbiAgc2V0Vmlld0JvdW5kczogUHJvcFR5cGVzLmJvb2xcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBvbHlnb247XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5pbXBvcnQgbWVyZ2UgZnJvbSBcImxvZGFzaC5tZXJnZVwiO1xuXG5mdW5jdGlvbiBNYXJrZXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGljb24sXG4gICAgbWFwLFxuICAgIGNvb3JkcyxcbiAgICB0eXBlLFxuICAgIG9wdGlvbnMsXG4gICAgc2V0Vmlld0JvdW5kcyxcbiAgICB1cGRhdGVNYXJrZXIsXG4gICAgbWFya2VyLFxuICAgIGdldE1hcmtlcixcbiAgICBwbGF0Zm9ybSxcbiAgICB1aSxcbiAgICBfX29wdGlvbnNcbiAgfSA9IG1lcmdlKFxuICAgIHsgc2V0Vmlld0JvdW5kczogdHJ1ZSwgdXBkYXRlTWFya2VyOiBmYWxzZSwgbWFya2VyOiBudWxsLCBnZXRNYXJrZXIoKSB7fSB9LFxuICAgIHByb3BzXG4gICk7XG4gIGxldCBfb3B0aW9ucyA9IG9wdGlvbnM7XG4gIGlmICghSCB8fCAhSC5tYXAgfHwgIW1hcCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkhNYXAgaGFzIHRvIGJlIGluaXRpYWxpemVkIGJlZm9yZSBhZGRpbmcgTWFwIE9iamVjdHNcIik7XG4gIH1cblxuICBpZiAoIWNvb3Jkcy5sYXQgfHwgIWNvb3Jkcy5sbmcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcImNvb3JkcyBzaG91bGQgYmUgYW4gb2JqZWN0IGhhdmluZyAnbGF0JyBhbmQgJ2xuZycgYXMgcHJvcHNcIlxuICAgICk7XG4gIH1cblxuICBpZiAoIWljb24pIHtcbiAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJpY29uIGlzIG5vdCBzZXQsIE1hcmtlciB3aWxsIG5vdCBiZSByZW5kZXJlZFwiKTtcbiAgfVxuXG4gIGlmICh0eXBlICYmIHR5cGUgPT09IFwiRE9NXCIpIHtcbiAgICAvLyBEaXNwbGF5cyBhIERPTSBJY29uXG4gICAgX29wdGlvbnMuaWNvbiA9IG5ldyBILm1hcC5Eb21JY29uKGljb24pO1xuICB9IGVsc2UgaWYgKHR5cGUpIHtcbiAgICAvLyBEaXNwbGF5cyBhIHN0YXRpYyBpY29uXG4gICAgX29wdGlvbnMuaWNvbiA9IG5ldyBILm1hcC5JY29uKGljb24pO1xuICB9XG5cbiAgLy8gQ3JlYXRlIGFuIGljb24sIGFuIG9iamVjdCBob2xkaW5nIHRoZSBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlLCBhbmQgYSBtYXJrZXI6XG4gIGNvbnN0IF9tYXJrZXIgPVxuICAgIHVwZGF0ZU1hcmtlciAmJiBtYXJrZXIgPyBtYXJrZXIgOiBuZXcgSC5tYXAuTWFya2VyKGNvb3JkcywgX29wdGlvbnMpO1xuXG4gIC8vIENoZWNrcyBpZiBvYmplY3Qgb2Ygc2FtZSBjb29yZGluYXRlcyBoYXZlIGJlZW4gYWRkZWQgZm9ybWVybHlcbiAgY29uc3QgYWRkZWRPYmplY3RzID0gbWFwLmdldE9iamVjdHMoKTtcbiAgY29uc3Qgb2JqZWN0RXhpc3RzID0gYWRkZWRPYmplY3RzLnNvbWUob2JqZWN0ID0+IHtcbiAgICBpZiAodHlwZW9mIG9iamVjdC5nZXRQb3NpdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBjb25zdCB7IGxhdCwgbG5nIH0gPSBvYmplY3QuZ2V0UG9zaXRpb24oKTtcbiAgICAgIHJldHVybiBsYXQgPT09IGNvb3Jkcy5sYXQgJiYgY29vcmRzLmxuZyA9PT0gbG5nO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gVGhpcyBvYmplY3QgZXhpc3RzIHdlIGRvbid0IHdhbnQgdG8gYWRkIGl0IGFnYWluLiBVcGRhdGUgdGhlIHBvc2l0aW9uXG4gIGlmICghb2JqZWN0RXhpc3RzICYmICF1cGRhdGVNYXJrZXIpIHtcbiAgICBtYXAuYWRkT2JqZWN0KF9tYXJrZXIpO1xuICB9IGVsc2UgaWYgKHVwZGF0ZU1hcmtlcikge1xuICAgIC8vIElmIHdlIGFyZSB1cGRhdGluZywgbm8gbmVlZCB0byBjcmVhdGVcbiAgICBfbWFya2VyLnNldFBvc2l0aW9uKGNvb3Jkcyk7XG4gIH1cblxuICAvLyBTZW5kIHRoZSBtYXJrZXIgdG8gdGhlIHBhcmVudFxuICAhbWFya2VyID8gZ2V0TWFya2VyKF9tYXJrZXIpIDogbnVsbDtcblxuICAvLyBDZW50ZXJzIHRoZSBtYXJrZXJcbiAgc2V0Vmlld0JvdW5kcyA/IG1hcC5zZXRDZW50ZXIoY29vcmRzKSA6IG51bGw7XG5cbiAgLy8gVGhlcmUgaXMgbm8gbmVlZCB0byByZW5kZXIgc29tZXRoaW5nIHVzZWZ1bCBoZXJlLCBIZXJlTWFwIGRvZXMgdGhhdCBtYWdpY2FsbHlcbiAgcmV0dXJuIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJub25lXCIgfX0gLz47XG59XG5cbk1hcmtlci5wcm9wVHlwZXMgPSB7XG4gIGNvb3JkczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBpY29uOiBQcm9wVHlwZXMuYW55LFxuICBvcHRpb25zOiBQcm9wVHlwZXMub2JqZWN0LFxuICB0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzZXRWaWV3Qm91bmRzOiBQcm9wVHlwZXMuYm9vbCxcbiAgbWFwOiBQcm9wVHlwZXMub2JqZWN0XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNYXJrZXI7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5pbXBvcnQgbWVyZ2UgZnJvbSBcImxvZGFzaC5tZXJnZVwiO1xuXG5mdW5jdGlvbiBDaXJjbGUocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHJhZGl1cyxcbiAgICBtYXAsXG4gICAgY29vcmRzLFxuICAgIG9wdGlvbnMsXG4gICAgc2V0Vmlld0JvdW5kcyxcbiAgICBwbGF0Zm9ybSxcbiAgICB1aSxcbiAgICBfX29wdGlvbnNcbiAgfSA9IG1lcmdlKHsgc2V0Vmlld0JvdW5kczogdHJ1ZSB9LCBwcm9wcyk7XG4gIGlmICghSCB8fCAhSC5tYXAgfHwgIW1hcCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkhNYXAgaGFzIHRvIGJlIGluaXRpYWxpemVkIGJlZm9yZSBhZGRpbmcgTWFwIE9iamVjdHNcIik7XG4gIH1cblxuICBpZiAoIWNvb3Jkcy5sYXQgfHwgIWNvb3Jkcy5sbmcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcImNvb3JkcyBzaG91bGQgYmUgYW4gb2JqZWN0IGhhdmluZyAnbGF0JyBhbmQgJ2xuZycgYXMgcHJvcHNcIlxuICAgICk7XG4gIH1cblxuICBpZiAoIXJhZGl1cykge1xuICAgIGNvbnNvbGUuaW5mbyhcInJhZGl1cyBpcyBub3Qgc2V0LCBkZWZhdWx0IHJhZGl1cyBvZiAxMDAwIGlzIHVzZWRcIik7XG4gIH1cblxuICBjb25zdCBjaXJjbGUgPSBuZXcgSC5tYXAuQ2lyY2xlKFxuICAgIC8vIFRoZSBjZW50cmFsIHBvaW50IG9mIHRoZSBjaXJjbGVcbiAgICBjb29yZHMsXG4gICAgLy8gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlIGluIG1ldGVyc1xuICAgIHJhZGl1cyB8fCAxMDAwLFxuICAgIG9wdGlvbnNcbiAgKTtcblxuICAvLyBBZGQgdGhlIG1hcmtlciB0byB0aGUgbWFwIGFuZCBjZW50ZXIgdGhlIG1hcCBhdCB0aGUgbG9jYXRpb24gb2YgdGhlIG1hcmtlcjpcbiAgbWFwLmFkZE9iamVjdChjaXJjbGUpO1xuICBpZiAoc2V0Vmlld0JvdW5kcykge1xuICAgIG1hcC5zZXRDZW50ZXIoY29vcmRzKTtcbiAgfVxuXG4gIC8vIFRoZXJlIGlzIG5vIG5lZWQgdG8gcmVuZGVyIHNvbWV0aGluZyB1c2VmdWwgaGVyZSwgSGVyZU1hcCBkb2VzIHRoYXQgbWFnaWNhbGx5XG4gIHJldHVybiA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19IC8+O1xufVxuXG5DaXJjbGUucHJvcFR5cGVzID0ge1xuICBjb29yZHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgb3B0aW9uczogUHJvcFR5cGVzLm9iamVjdCxcbiAgcmFkaXVzOiBQcm9wVHlwZXMubnVtYmVyLFxuICBzZXRWaWV3Qm91bmRzOiBQcm9wVHlwZXMuYm9vbCxcbiAgbWFwOiBQcm9wVHlwZXMub2JqZWN0XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDaXJjbGU7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5pbXBvcnQgbWVyZ2UgZnJvbSBcImxvZGFzaC5tZXJnZVwiO1xuXG5mdW5jdGlvbiBSZWN0YW5nbGUocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIG1hcCxcbiAgICBwb2ludHMsXG4gICAgb3B0aW9ucyxcbiAgICBzZXRWaWV3Qm91bmRzLFxuICAgIHBsYXRmb3JtLFxuICAgIHVpLFxuICAgIF9fb3B0aW9uc1xuICB9ID0gbWVyZ2UoeyBzZXRWaWV3Qm91bmRzOiB0cnVlIH0sIHByb3BzKTtcbiAgaWYgKCFIIHx8ICFILm1hcCB8fCAhbWFwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSE1hcCBoYXMgdG8gYmUgaW5pdGlhbGl6ZWQgYmVmb3JlIGFkZGluZyBNYXAgT2JqZWN0c1wiKTtcbiAgfVxuXG4gIGlmICghcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggIT09IDQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJwb2ludHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIGZvdXIgaXRlbXNcIik7XG4gIH1cblxuICAvLyBHZXQgYSBib3VuZGluZyBib3hcbiAgY29uc3QgYm91bmRpbmdCb3ggPSBuZXcgSC5nZW8uUmVjdChcbiAgICBwb2ludHNbMF0sXG4gICAgcG9pbnRzWzFdLFxuICAgIHBvaW50c1syXSxcbiAgICBwb2ludHNbM11cbiAgKTtcblxuICAvLyBDcmVhdGUgYW4gcmVjdGFuZ2xlXG4gIGNvbnN0IHJlY3RhbmdsZSA9IG5ldyBILm1hcC5SZWN0KGJvdW5kaW5nQm94LCBvcHRpb25zKTtcblxuICAvLyBBZGQgYSByZWN0YW5nbGUgdG8gdGhlIG1hcFxuICBtYXAuYWRkT2JqZWN0KHJlY3RhbmdsZSk7XG4gIGlmIChzZXRWaWV3Qm91bmRzKSB7XG4gICAgLy8gWm9vbSB0aGUgbWFwIHRvIG1ha2Ugc3VyZSB0aGUgd2hvbGUgcmVjdGFuZ2xlIGlzIHZpc2libGU6XG4gICAgbWFwLnNldFZpZXdCb3VuZHMocmVjdGFuZ2xlLmdldEJvdW5kcygpKTtcbiAgfVxuXG4gIC8vIFRoZXJlIGlzIG5vIG5lZWQgdG8gcmVuZGVyIHNvbWV0aGluZyB1c2VmdWwgaGVyZSwgSGVyZU1hcCBkb2VzIHRoYXQgbWFnaWNhbGx5XG4gIHJldHVybiA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19IC8+O1xufVxuXG5SZWN0YW5nbGUucHJvcFR5cGVzID0ge1xuICBvcHRpb25zOiBQcm9wVHlwZXMub2JqZWN0LFxuICBwb2ludHM6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLFxuICBtYXA6IFByb3BUeXBlcy5vYmplY3Rcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlY3RhbmdsZTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xuXG5mdW5jdGlvbiBHZW9Db2RlKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBnZW9Db2RlUGFyYW1zLFxuICAgIHBsYXRmb3JtLFxuICAgIG1hcCxcbiAgICB1aSxcbiAgICBjaGlsZHJlbixcbiAgICByZXZlcnNlLFxuICAgIGxhbmRtYXJrXG4gIH0gPSBwcm9wcztcbiAgaWYgKCFIIHx8ICFILm1hcCB8fCAhbWFwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSE1hcCBoYXMgdG8gYmUgaW5pdGlhbGl6ZWQgYmVmb3JlIGFkZGluZyBNYXAgT2JqZWN0c1wiKTtcbiAgfVxuXG4gIGlmICghZ2VvQ29kZVBhcmFtcykge1xuICAgIHRocm93IG5ldyBFcnJvcihcImdlb0NvZGVQYXJhbXMgaXMgbm90IHNldFwiKTtcbiAgfVxuICBjb25zdCBbbG9jYXRpb25zLCBzZXRMb2NhdGlvbnNdID0gdXNlU3RhdGUoW10pO1xuXG4gIC8vIERlZmluZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHByb2Nlc3MgdGhlIGdlb2NvZGluZyByZXNwb25zZTpcbiAgdmFyIG9uUmVzdWx0ID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgc2V0TG9jYXRpb25zKHJlc3VsdC5SZXNwb25zZS5WaWV3WzBdLlJlc3VsdCk7XG4gIH07XG5cbiAgLy8gR2V0IGFuIGluc3RhbmNlIG9mIHRoZSBnZW9jb2Rpbmcgc2VydmljZTpcbiAgdmFyIGdlb2NvZGVyID0gcGxhdGZvcm0uZ2V0R2VvY29kaW5nU2VydmljZSgpO1xuXG4gIC8vIENhbGwgdGhlIGdlb2NvZGUgbWV0aG9kIHdpdGggdGhlIGdlb2NvZGluZyBwYXJhbWV0ZXJzLFxuICAvLyB0aGUgY2FsbGJhY2sgYW5kIGFuIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uIChjYWxsZWQgaWYgYVxuICAvLyBjb21tdW5pY2F0aW9uIGVycm9yIG9jY3Vycyk6XG4gIGlmIChsYW5kbWFyaykge1xuICAgIGdlb2NvZGVyLnNlYXJjaChnZW9Db2RlUGFyYW1zLCBvblJlc3VsdCwgZnVuY3Rpb24oZSkge1xuICAgICAgYWxlcnQoZSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAocmV2ZXJzZSkge1xuICAgIC8vIFBvaW50IHRvIGFkZHJlc3NcbiAgICBnZW9jb2Rlci5yZXZlcnNlR2VvY29kZShnZW9Db2RlUGFyYW1zLCBvblJlc3VsdCwgZSA9PiBjb25zb2xlLmxvZyhlKSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQWRkcmVzcyB0byBwb2ludFxuICAgIGdlb2NvZGVyLmdlb2NvZGUoZ2VvQ29kZVBhcmFtcywgb25SZXN1bHQsIGUgPT4gY29uc29sZS5sb2coZSkpO1xuICB9XG4gIHJldHVybiAoXG4gICAgbG9jYXRpb25zLmxlbmd0aCAmJlxuICAgIGxvY2F0aW9ucy5tYXAobG9jYXRpb24gPT4ge1xuICAgICAgY29uc3QgX2xvY2F0aW9uID0gbG9jYXRpb24uTG9jYXRpb24gfHwgbG9jYXRpb24uUGxhY2UuTG9jYXRpb25zWzBdO1xuICAgICAgY29uc3QgbGF0ID0gX2xvY2F0aW9uLkRpc3BsYXlQb3NpdGlvbi5MYXRpdHVkZTtcbiAgICAgIGNvbnN0IGxuZyA9IF9sb2NhdGlvbi5EaXNwbGF5UG9zaXRpb24uTG9uZ2l0dWRlO1xuICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICBtYXAsXG4gICAgICAgIHBsYXRmb3JtLFxuICAgICAgICB1aSxcbiAgICAgICAgbGF0LFxuICAgICAgICBsbmcsXG4gICAgICAgIGtleTogbGF0LFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgX2xvY2F0aW9uXG4gICAgICB9O1xuICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwgcGFyYW1zKTtcbiAgICB9KVxuICApO1xufVxuXG5HZW9Db2RlLnByb3BUeXBlcyA9IHtcbiAgZ2VvQ29kZVBhcmFtczogUHJvcFR5cGVzLm9iamVjdCxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5lbGVtZW50LmlzUmVxdWlyZWQsXG4gIHJldmVyc2U6IFByb3BUeXBlcy5ib29sLFxuICBsYW5kbWFyazogUHJvcFR5cGVzLmJvb2wsXG4gIG1hcDogUHJvcFR5cGVzLm9iamVjdCxcbiAgcGxhdGZvcm06IFByb3BUeXBlcy5vYmplY3QsXG4gIHVpOiBQcm9wVHlwZXMub2JqZWN0XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHZW9Db2RlO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5pbXBvcnQgUG9seUxpbmUgZnJvbSBcIi4uL0hNYXAvb2JqZWN0cy9Qb2x5TGluZVwiO1xuaW1wb3J0IFBvbHlnb24gZnJvbSBcIi4uL0hNYXAvb2JqZWN0cy9Qb2x5Z29uXCI7XG5pbXBvcnQgTWFya2VyIGZyb20gXCIuLi9ITWFwL29iamVjdHMvTWFya2VyXCI7XG5pbXBvcnQgbWVyZ2UgZnJvbSBcImxvZGFzaC5tZXJnZVwiO1xuXG5mdW5jdGlvbiBSb3V0ZXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHJvdXRlUGFyYW1zLCAvLyBQYXJhbXMgZm9yIHRoZSByb3V0aW5nXG4gICAgcGxhdGZvcm0sIC8vIHJlZmVyZW5jZSB0byB0aGUgcGxhdGZvcm0gb2JqZWN0XG4gICAgbWFwLCAvLyByZWZlcmVuY2UgdG8gdGhlIG1hcCBvYmplY3RcbiAgICB1aSwgLy8gcmVmZXJlbmNlIHRvIHRoZSB1aSBvYmplY3RcbiAgICBjaGlsZHJlbiwgLy8gaG9sZHMgdGhlIGNoaWxkcmVuXG4gICAgcmVuZGVyRGVmYXVsdExpbmUsIC8vIGRldGVybWluZXMgaWYgcmVuZGVyRGVmYXVsdExpbmUgc2hvdWxkIGJlIHVzZWRcbiAgICBpc29MaW5lLCAvLyBjYWxjdWxhdGUgaXNvTGluZSBvciBkZWZhdWx0IHJvdXRlXG4gICAgbGluZU9wdGlvbnMsIC8vIG9wdGlvbnMgZm9yIHRoZSBsaW5lIGlmIGRlZmF1bHQgZGlzcGxheSBpcyB0cnVlXG4gICAgcG9seWdvbk9wdGlvbnMsIC8vIG9wdGlvbnMgZm9yIHRoZSBwb2x5Z29uIGlmIGRlZmF1bHQgZGlzcGxheSBpcyB0cnVlXG4gICAgbWFya2VyT3B0aW9ucywgLy8gb3B0aW9ucyBmb3IgdGhlIG1hcmtlciBpZiBkZWZhdWx0IGRpc3BsYXkgaXMgdHJ1ZVxuICAgIGljb24gLy8gaWNvbiBmb3IgdGhlIHN0YXJ0IGFuZCBlbmQgbWFya2Vyc1xuICB9ID0gbWVyZ2UoeyByZW5kZXJEZWZhdWx0TGluZTogdHJ1ZSB9LCBwcm9wcyk7XG5cbiAgaWYgKCFIIHx8ICFILm1hcCB8fCAhbWFwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSE1hcCBoYXMgdG8gYmUgaW5pdGlhbGl6ZWQgYmVmb3JlIGFkZGluZyBNYXAgT2JqZWN0c1wiKTtcbiAgfVxuXG4gIGlmICghcm91dGVQYXJhbXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJyb3V0ZVBhcmFtcyBpcyBub3Qgc2V0XCIpO1xuICB9XG4gIGNvbnN0IFtyb3V0ZVNoYXBlLCBzZXRSb3V0ZVNoYXBlXSA9IHVzZVN0YXRlKFtdKTtcbiAgbGV0IFtyb3V0ZSwgc2V0Um91dGVdID0gdXNlU3RhdGUoe30pO1xuICBsZXQgW2NvbXBvbmVudCwgc2V0Q29tcG9uZW50XSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgW3Jlc3VsdFJlc3BvbnNlLCBzZXRSZXN1bHRSZXNwb25zZV0gPSB1c2VTdGF0ZSh7fSk7XG4gIGxldCBbY2VudGVyLCBzZXRDZW50ZXJdID0gdXNlU3RhdGUoe30pO1xuXG4gIC8vIERlZmluZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHByb2Nlc3MgdGhlIHJvdXRpbmcgcmVzcG9uc2U6XG4gIGNvbnN0IG9uUmVzdWx0ID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgc2V0UmVzdWx0UmVzcG9uc2UocmVzdWx0LnJlc3BvbnNlKTtcbiAgICBsZXQgX3JvdXRlU2hhcGUgPSBbXTtcbiAgICBpZiAoaXNvTGluZSAmJiByZXN1bHRSZXNwb25zZS5pc29saW5lKSB7XG4gICAgICBjb21wb25lbnQgPSByZXN1bHRSZXNwb25zZS5pc29saW5lWzBdLmNvbXBvbmVudFswXTtcbiAgICAgIF9yb3V0ZVNoYXBlID0gY29tcG9uZW50LnNoYXBlO1xuXG4gICAgICBjb25zdCBfY2VudGVyID0gbmV3IEguZ2VvLlBvaW50KFxuICAgICAgICByZXN1bHRSZXNwb25zZS5jZW50ZXIubGF0aXR1ZGUsXG4gICAgICAgIHJlc3VsdFJlc3BvbnNlLmNlbnRlci5sb25naXR1ZGVcbiAgICAgICk7XG4gICAgICBzZXRDZW50ZXIoX2NlbnRlcik7XG4gICAgICBzZXRDb21wb25lbnQoY29tcG9uZW50KTtcbiAgICB9IGVsc2UgaWYgKCFpc29MaW5lICYmIHJlc3VsdFJlc3BvbnNlLnJvdXRlKSB7XG4gICAgICAvLyBQaWNrIHRoZSBmaXJzdCByb3V0ZSBmcm9tIHRoZSByZXNwb25zZTpcbiAgICAgIHJvdXRlID0gcmVzdWx0UmVzcG9uc2Uucm91dGVbMF07XG4gICAgICAvLyBQaWNrIHRoZSByb3V0ZSdzIHNoYXBlOlxuICAgICAgX3JvdXRlU2hhcGUgPSByb3V0ZS5zaGFwZTtcbiAgICAgIGNvbnNvbGUubG9nKF9yb3V0ZVNoYXBlKTtcbiAgICAgIF9yb3V0ZVNoYXBlID0gX3JvdXRlU2hhcGUubWFwKHBvaW50ID0+IHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gcG9pbnQuc3BsaXQoXCIsXCIpO1xuICAgICAgICByZXR1cm4geyBsYXQ6IGNvb3Jkc1swXSwgbG5nOiBjb29yZHNbMV0gfTtcbiAgICAgIH0pO1xuICAgICAgc2V0Um91dGUocm91dGUpO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZyhfcm91dGVTaGFwZSk7XG4gICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgc2V0Um91dGVTaGFwZShfcm91dGVTaGFwZSk7XG4gIH07XG5cbiAgLy8gR2V0IGFuIGluc3RhbmNlIG9mIHRoZSByb3V0aW5nIHNlcnZpY2U6XG4gIGNvbnN0IHJvdXRlciA9IHBsYXRmb3JtLmdldFJvdXRpbmdTZXJ2aWNlKCk7XG5cbiAgaWYgKGlzb0xpbmUpIHtcbiAgICAvLyBDYWxsIHRoZSBSb3V0aW5nIEFQSSB0byBjYWxjdWxhdGUgYW4gaXNvbGluZTpcbiAgICAvLyByb3V0ZXIuY2FsY3VsYXRlSXNvbGluZShyb3V0ZVBhcmFtcywgb25SZXN1bHQsIGUgPT4gY29uc29sZS5sb2coZS5tZXNzYWdlKSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ2FsbCBjYWxjdWxhdGVSb3V0ZSgpIHdpdGggdGhlIHJvdXRpbmcgcGFyYW1ldGVycyxcbiAgICAvLyB0aGUgY2FsbGJhY2sgYW5kIGFuIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uIChjYWxsZWQgaWYgYVxuICAgIC8vIGNvbW11bmljYXRpb24gZXJyb3Igb2NjdXJzKTpcbiAgICAvLyByb3V0ZXIuY2FsY3VsYXRlUm91dGUocm91dGVQYXJhbXMsIG9uUmVzdWx0LCBlID0+IGNvbnNvbGUubG9nKGUubWVzc2FnZSkpO1xuICB9XG5cbiAgY29uc3QgcmVuZGVyUG9seWdvbiA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICA8UG9seWdvblxuICAgICAgICAgIHBvaW50cz17cm91dGVTaGFwZX1cbiAgICAgICAgICBvcHRpb25zPXtwb2x5Z29uT3B0aW9uc31cbiAgICAgICAgICBzZXRWaWV3Qm91bmRzPXt0cnVlfVxuICAgICAgICAgIG1hcD17bWFwfVxuICAgICAgICAgIHBsYXRmb3JtPXtwbGF0Zm9ybX1cbiAgICAgICAgLz5cbiAgICAgICAgPE1hcmtlclxuICAgICAgICAgIGNvb3Jkcz17Y2VudGVyfVxuICAgICAgICAgIG1hcD17bWFwfVxuICAgICAgICAgIHBsYXRmb3JtPXtwbGF0Zm9ybX1cbiAgICAgICAgICBpY29uPXtpY29ufVxuICAgICAgICAgIG9wdGlvbnM9e21hcmtlck9wdGlvbnN9XG4gICAgICAgICAgc2V0Vmlld0JvdW5kcz17ZmFsc2V9XG4gICAgICAgIC8+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH07XG5cbiAgLy8gUmVuZGVycyBQb2x5TGluZSBhbmQgTWFya2Vyc1xuICBjb25zdCByZW5kZXJQb2x5TGluZSA9ICgpID0+IHtcbiAgICAvLyBSZXRyaWV2ZSB0aGUgbWFwcGVkIHBvc2l0aW9ucyBvZiB0aGUgcmVxdWVzdGVkIHdheXBvaW50czpcbiAgICBjb25zdCBzdGFydFBvaW50ID0gcm91dGUud2F5cG9pbnRbMF0ubWFwcGVkUG9zaXRpb247XG4gICAgY29uc3QgZW5kUG9pbnQgPSByb3V0ZS53YXlwb2ludFsxXS5tYXBwZWRQb3NpdGlvbjtcblxuICAgIC8vIENyZWF0ZSBhIG1hcmtlciBmb3IgdGhlIHN0YXJ0IHBvaW50OlxuICAgIGNvbnN0IHN0YXJ0TWFya2VyID0geyBsYXQ6IHN0YXJ0UG9pbnQubGF0aXR1ZGUsIGxuZzogc3RhcnRQb2ludC5sb25naXR1ZGUgfTtcbiAgICAvLyBDcmVhdGUgYSBtYXJrZXIgZm9yIHRoZSBlbmQgcG9pbnQ6XG4gICAgY29uc3QgZW5kTWFya2VyID0geyBsYXQ6IGVuZFBvaW50LmxhdGl0dWRlLCBsbmc6IGVuZFBvaW50LmxvbmdpdHVkZSB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPFBvbHlMaW5lXG4gICAgICAgICAgcG9pbnRzPXtyb3V0ZVNoYXBlfVxuICAgICAgICAgIG1hcD17bWFwfVxuICAgICAgICAgIG9wdGlvbnM9e2xpbmVPcHRpb25zfVxuICAgICAgICAgIHNldFZpZXdCb3VuZHM9e3RydWV9XG4gICAgICAgIC8+XG4gICAgICAgIDxNYXJrZXJcbiAgICAgICAgICBjb29yZHM9e3N0YXJ0TWFya2VyfVxuICAgICAgICAgIG1hcD17bWFwfVxuICAgICAgICAgIHBsYXRmb3JtPXtwbGF0Zm9ybX1cbiAgICAgICAgICBpY29uPXtpY29ufVxuICAgICAgICAgIG9wdGlvbnM9e21hcmtlck9wdGlvbnN9XG4gICAgICAgICAgc2V0Vmlld0JvdW5kcz17ZmFsc2V9XG4gICAgICAgIC8+XG4gICAgICAgIDxNYXJrZXJcbiAgICAgICAgICBjb29yZHM9e2VuZE1hcmtlcn1cbiAgICAgICAgICBtYXA9e21hcH1cbiAgICAgICAgICBwbGF0Zm9ybT17cGxhdGZvcm19XG4gICAgICAgICAgaWNvbj17aWNvbn1cbiAgICAgICAgICBvcHRpb25zPXttYXJrZXJPcHRpb25zfVxuICAgICAgICAgIHNldFZpZXdCb3VuZHM9e2ZhbHNlfVxuICAgICAgICAvPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckRlZmF1bHQgPSAoKSA9PiAoaXNvTGluZSA/IHJlbmRlclBvbHlnb24oKSA6IHJlbmRlclBvbHlMaW5lKCkpO1xuICAvLyBSZW5kZXJzIHRoZSBjaGlsZCBmb3IgYWRkaXRpb25hbCBtYW5pcHVsYXRpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkcmVuID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIG1hcCxcbiAgICAgIHBsYXRmb3JtLFxuICAgICAgdWksXG4gICAgICByb3V0ZSxcbiAgICAgIHJvdXRlU2hhcGUsXG4gICAgICBjZW50ZXIsXG4gICAgICBjb21wb25lbnRcbiAgICB9O1xuICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHBhcmFtcyk7XG4gIH07XG4gIGNvbnN0IHJlbmRlclJlc3VsdCA9ICgpID0+IHtcbiAgICByZXR1cm4gcmVuZGVyRGVmYXVsdExpbmUgPyByZW5kZXJEZWZhdWx0KCkgOiByZW5kZXJDaGlsZHJlbigpO1xuICB9O1xuICByZXR1cm4gKHJvdXRlLndheXBvaW50IHx8IGNvbXBvbmVudC5zaGFwZSkgJiYgcm91dGVTaGFwZS5sZW5ndGhcbiAgICA/IHJlbmRlclJlc3VsdCgpXG4gICAgOiBudWxsO1xufVxuXG5Sb3V0ZXIucHJvcFR5cGVzID0ge1xuICByb3V0ZVBhcmFtczogUHJvcFR5cGVzLm9iamVjdCxcbiAgbGluZU9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3QsXG4gIG1hcmtlck9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZWxlbWVudCxcbiAgcmVuZGVyRGVmYXVsdExpbmU6IFByb3BUeXBlcy5ib29sLFxuICBpc29MaW5lOiBQcm9wVHlwZXMuYm9vbCxcbiAgaWNvbjogUHJvcFR5cGVzLmFueSxcbiAgbWFwOiBQcm9wVHlwZXMub2JqZWN0LFxuICBwbGF0Zm9ybTogUHJvcFR5cGVzLm9iamVjdCxcbiAgdWk6IFByb3BUeXBlcy5vYmplY3Rcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJvdXRlcjtcbiIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmltcG9ydCBkb3RQcm9wIGZyb20gXCJkb3QtcHJvcFwiO1xuaW1wb3J0IHZhbGlkYXRlTWFwVHlwZSBmcm9tIFwiLi4vLi4vbGlicy92YWxpZGF0ZU1hcFR5cGVcIjtcblxuZnVuY3Rpb24gVHJhZmZpYyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgcGxhdGZvcm0sXG4gICAgbWFwLFxuICAgIG1hcExheWVyVHlwZSxcbiAgICBfX29wdGlvbnM6IHsgbWFwVHlwZXMgfVxuICB9ID0gcHJvcHM7XG4gIGlmICghSCB8fCAhSC5tYXAgfHwgIW1hcCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkhNYXAgaGFzIHRvIGJlIGluaXRpYWxpemVkIGJlZm9yZSBhZGRpbmcgTWFwIE9iamVjdHNcIik7XG4gIH1cbiAgdmFsaWRhdGVNYXBUeXBlKG1hcFR5cGVzLCBtYXBMYXllclR5cGUpO1xuICBjb25zdCBkZWZhdWx0TGF5ZXJzID0gcGxhdGZvcm0uY3JlYXRlRGVmYXVsdExheWVycygpO1xuICBtYXAuYWRkTGF5ZXIoZG90UHJvcC5nZXQoZGVmYXVsdExheWVycywgbWFwTGF5ZXJUeXBlKSk7XG4gIHJldHVybiBudWxsO1xufVxuXG5UcmFmZmljLnByb3BUeXBlcyA9IHtcbiAgcGxhdGZvcm06IFByb3BUeXBlcy5vYmplY3QsXG4gIF9fb3B0aW9uczogUHJvcFR5cGVzLm9iamVjdCxcbiAgbWFwTGF5ZXJUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG1hcDogUHJvcFR5cGVzLm9iamVjdFxufTtcblxuZXhwb3J0IGRlZmF1bHQgVHJhZmZpYztcbiIsImltcG9ydCBIUGxhdGZvcm0gZnJvbSBcIi4vY29tcG9uZW50cy9QbGF0Zm9ybVwiO1xuaW1wb3J0IE1hcCBmcm9tIFwiLi9jb21wb25lbnRzL0hNYXBcIjtcbmltcG9ydCBQb2x5TGluZSBmcm9tIFwiLi9jb21wb25lbnRzL0hNYXAvb2JqZWN0cy9Qb2x5TGluZVwiO1xuaW1wb3J0IFBvbHlnb24gZnJvbSBcIi4vY29tcG9uZW50cy9ITWFwL29iamVjdHMvUG9seWdvblwiO1xuaW1wb3J0IE1hcmtlciBmcm9tIFwiLi9jb21wb25lbnRzL0hNYXAvb2JqZWN0cy9NYXJrZXJcIjtcbmltcG9ydCBDaXJjbGUgZnJvbSBcIi4vY29tcG9uZW50cy9ITWFwL29iamVjdHMvQ2lyY2xlXCI7XG5pbXBvcnQgUmVjdGFuZ2xlIGZyb20gXCIuL2NvbXBvbmVudHMvSE1hcC9vYmplY3RzL1JlY3RhbmdsZVwiO1xuaW1wb3J0IEdlb0NvZGUgZnJvbSBcIi4vY29tcG9uZW50cy9HZW9Db2RlXCI7XG5pbXBvcnQgUm91dGUgZnJvbSBcIi4vY29tcG9uZW50cy9Sb3V0ZVwiO1xuaW1wb3J0IExheWVyIGZyb20gXCIuL2NvbXBvbmVudHMvTGF5ZXJcIjtcblxuZXhwb3J0IGNvbnN0IEhNYXBQb2x5TGluZSA9IFBvbHlMaW5lO1xuZXhwb3J0IGNvbnN0IEhNYXBQb2x5Z29uID0gUG9seWdvbjtcbmV4cG9ydCBjb25zdCBITWFwTWFya2VyID0gTWFya2VyO1xuZXhwb3J0IGNvbnN0IEhNYXBDaXJjbGUgPSBDaXJjbGU7XG5leHBvcnQgY29uc3QgSE1hcFJlY3RhbmdsZSA9IFJlY3RhbmdsZTtcbmV4cG9ydCBjb25zdCBITWFwUm91dGUgPSBSb3V0ZTtcbmV4cG9ydCBjb25zdCBITWFwTGF5ZXIgPSBMYXllcjtcbmV4cG9ydCBjb25zdCBITWFwR2VvQ29kZSA9IEdlb0NvZGU7XG5leHBvcnQgY29uc3QgSE1hcCA9IE1hcDtcbmV4cG9ydCBkZWZhdWx0IEhQbGF0Zm9ybTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgbG9hZE1hcCBmcm9tIFwiLi8uLi8uLi9saWJzL2xvYWRNYXBcIjtcbmltcG9ydCBkZWZhdWx0cyBmcm9tIFwiLi8uLi8uLi9saWJzL2RlZmF1bHRzXCI7XG5pbXBvcnQgbWVyZ2UgZnJvbSBcImxvZGFzaC5tZXJnZVwiO1xuaW1wb3J0IGluaXRQbGF0Zm9ybSBmcm9tIFwiLi8uLi8uLi9saWJzL2luaXRQbGF0Zm9ybVwiO1xuXG5jb25zdCBvcHRpb25NZXJnZXIgPSBvcHRpb25zID0+IG1lcmdlKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuZnVuY3Rpb24gUGxhdGZvcm0ocHJvcHMpIHtcbiAgY29uc3QgW3BsYXRmb3JtRGF0YSwgc2V0UGxhdGZvcm1EYXRhXSA9IHVzZVN0YXRlKHtcbiAgICBwbGF0Zm9ybToge30sXG4gICAgb3B0aW9uczoge31cbiAgfSk7XG4gIHVzZUVmZmVjdChcbiAgICAoKSA9PiB7XG4gICAgICAvLyBjb25zdCB7IHZlcnNpb24sIGludGVyYWN0aXZlLCBpbmNsdWRlVUksIGluY2x1ZGVQbGFjZXMgfSA9IHByb3BzO1xuICAgICAgbG9hZE1hcChwcm9wcykudGhlbihvcHRpb25zID0+IHtcbiAgICAgICAgY29uc3QgcGxhdGZvcm0gPSBpbml0UGxhdGZvcm0ob3B0aW9ucyk7XG4gICAgICAgIHNldFBsYXRmb3JtRGF0YSh7IHBsYXRmb3JtLCBvcHRpb25zIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbcGxhdGZvcm1EYXRhLnBsYXRmb3JtLkFdXG4gICk7XG4gIGNvbnN0IHsgcGxhdGZvcm0sIG9wdGlvbnMgfSA9IHBsYXRmb3JtRGF0YTtcbiAgcmV0dXJuIHBsYXRmb3JtLkEgPT0gXCJhcGkuaGVyZS5jb21cIiAmJiBvcHRpb25zLmFwcF9jb2RlXG4gICAgPyBSZWFjdC5DaGlsZHJlbi5tYXAocHJvcHMuY2hpbGRyZW4sIGNoaWxkID0+IHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgeyBwbGF0Zm9ybSwgb3B0aW9ucyB9KTtcbiAgICAgIH0pXG4gICAgOiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQbGF0Zm9ybTtcbiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInYiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJyZXNvbHZlZCIsImdldCIsInNyYyIsIm9wdHMiLCJfdXRpbCIsImlzU3RyaW5nIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ1cmwiLCJjYWxsYmFjayIsImVycm9yQ2FsbGJhY2siLCJpbnZva2VDYWxsYmFjayIsImlzRnVuY3Rpb24iLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwicmVhZHlTdGF0ZSIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJlIiwiY29uc29sZSIsImxvZyIsImJvZHkiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJsb2FkU2NyaXB0IiwiaXNBcnJheSIsInAiLCJmb3JFYWNoIiwidGhlbiIsIkVycm9yIiwicmVxdWlyZSQkMCIsImRlZmF1bHQiLCJWRVJTSU9OIiwiaW50ZXJhY3RpdmUiLCJpbmNsdWRlVUkiLCJpbmNsdWRlUGxhY2VzIiwiaXNOb2RlIiwiUHVibGljIiwiY2xvbmUiLCJtZXJnZSIsImFyZ3VtZW50cyIsIm1lcmdlX3JlY3Vyc2l2ZSIsImJhc2UiLCJleHRlbmQiLCJ0eXBlT2YiLCJrZXkiLCJyZWN1cnNpdmUiLCJhcmd2IiwicmVzdWx0Iiwic2l6ZSIsImxlbmd0aCIsImluZGV4IiwiaXRlbSIsInNpdGVtIiwiaW5wdXQiLCJzbGljZSIsInRvTG93ZXJDYXNlIiwib3V0cHV0IiwibW9kdWxlIiwid2luZG93Iiwic2NyaXB0TG9hZGVyIiwib3B0aW9ucyIsIl9vcHRpb25zIiwiZGVmYXVsdHMiLCJtZXJnZXIiLCJ2ZXJzaW9uIiwiX3YiLCJ1cmxzIiwiYnVpbGRTY3JpcHRVUkxzIiwic3BsaWNlIiwiZ2V0SlMiLCJsaW5rIiwic2V0QXR0cmlidXRlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhcHBlbmQiLCJjYXRjaCIsImVycm9yIiwibWFwVHlwZXMiLCJub3JtYWwiLCJzYXRlbGxpdGUiLCJ0ZXJyYWluIiwiaW5jaWRlbnRzIiwidmVudWVzIiwibm9vcCIsIm1hcEV2ZW50cyIsIm1hcCIsIm5hbWUiLCJNQVBfVFlQRSIsIm1hcE9wdGlvbnMiLCJ6b29tIiwiY2VudGVyIiwibGF0IiwibG5nIiwidXNlRXZlbnRzIiwiY29udGFpbmVySWQiLCJkZWZhdWx0Q2xhc3NOYW1lIiwiTEFSR0VfQVJSQVlfU0laRSIsIkhBU0hfVU5ERUZJTkVEIiwiSE9UX0NPVU5UIiwiSE9UX1NQQU4iLCJNQVhfU0FGRV9JTlRFR0VSIiwiYXJnc1RhZyIsImFzeW5jVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsIm51bGxUYWciLCJvYmplY3RUYWciLCJwcm94eVRhZyIsInVuZGVmaW5lZFRhZyIsInJlSXNIb3N0Q3RvciIsInJlSXNVaW50IiwidHlwZWRBcnJheVRhZ3MiLCJmcmVlR2xvYmFsIiwiZ2xvYmFsIiwiZnJlZVNlbGYiLCJzZWxmIiwicm9vdCIsIkZ1bmN0aW9uIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJwcm9jZXNzIiwibm9kZVV0aWwiLCJiaW5kaW5nIiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsImFwcGx5IiwiZnVuYyIsInRoaXNBcmciLCJhcmdzIiwic2FmZUdldCIsIm9iamVjdCIsInVuZGVmaW5lZCIsInVpZCIsInRyYW5zZm9ybSIsImFycmF5UHJvdG8iLCJBcnJheSIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsImZ1bmNUb1N0cmluZyIsImhhc093blByb3BlcnR5IiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJyZUlzTmF0aXZlIiwiUmVnRXhwIiwicmVwbGFjZSIsIkJ1ZmZlciIsIlN5bWJvbCIsIlVpbnQ4QXJyYXkiLCJhbGxvY1Vuc2FmZSIsImdldFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwiYXJnIiwib2JqZWN0Q3JlYXRlIiwiY3JlYXRlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzeW1Ub1N0cmluZ1RhZyIsInRvU3RyaW5nVGFnIiwiZ2V0TmF0aXZlIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZU1heCIsIk1hdGgiLCJtYXgiLCJuYXRpdmVOb3ciLCJEYXRlIiwibm93IiwiTWFwIiwibmF0aXZlQ3JlYXRlIiwiYmFzZUNyZWF0ZSIsInByb3RvIiwiaXNPYmplY3QiLCJIYXNoIiwiZW50cmllcyIsImNsZWFyIiwiZW50cnkiLCJzZXQiLCJMaXN0Q2FjaGUiLCJNYXBDYWNoZSIsIlN0YWNrIiwiZGF0YSIsInRoaXMiLCJfX2RhdGFfXyIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyciIsImlzQXJnIiwiaXNBcmd1bWVudHMiLCJpc0J1ZmYiLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsIm4iLCJpdGVyYXRlZSIsImJhc2VUaW1lcyIsIlN0cmluZyIsImlzSW5kZXgiLCJwdXNoIiwiYXNzaWduTWVyZ2VWYWx1ZSIsImVxIiwiYmFzZUFzc2lnblZhbHVlIiwiYXNzaWduVmFsdWUiLCJvYmpWYWx1ZSIsImFzc29jSW5kZXhPZiIsImFycmF5IiwiaGFzIiwicG9wIiwiZ2V0TWFwRGF0YSIsInBhaXJzIiwiZnJvbVJpZ2h0IiwiYmFzZUZvciIsImtleXNGdW5jIiwiaXRlcmFibGUiLCJwcm9wcyIsImJhc2VHZXRUYWciLCJpc093biIsInRhZyIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlSXNBcmd1bWVudHMiLCJpc09iamVjdExpa2UiLCJiYXNlSXNOYXRpdmUiLCJpc01hc2tlZCIsInRlc3QiLCJ0b1NvdXJjZSIsImJhc2VLZXlzSW4iLCJuYXRpdmVLZXlzSW4iLCJpc1Byb3RvIiwiaXNQcm90b3R5cGUiLCJiYXNlTWVyZ2UiLCJzb3VyY2UiLCJzcmNJbmRleCIsImN1c3RvbWl6ZXIiLCJzdGFjayIsInNyY1ZhbHVlIiwibWVyZ2VGdW5jIiwic3RhY2tlZCIsIm5ld1ZhbHVlIiwiaXNDb21tb24iLCJpc1R5cGVkIiwiaXNBcnJheUxpa2UiLCJjb3B5QXJyYXkiLCJidWZmZXIiLCJpc0RlZXAiLCJjb25zdHJ1Y3RvciIsImNvcHkiLCJjbG9uZUJ1ZmZlciIsInR5cGVkQXJyYXkiLCJhcnJheUJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJieXRlT2Zmc2V0IiwiQ3RvciIsImlzUGxhaW5PYmplY3QiLCJpc05ldyIsImNvcHlPYmplY3QiLCJrZXlzSW4iLCJ0b1BsYWluT2JqZWN0IiwiaW5pdENsb25lT2JqZWN0IiwiYmFzZU1lcmdlRGVlcCIsImJhc2VSZXN0Iiwic3RhcnQiLCJzZXRUb1N0cmluZyIsIm90aGVyQXJncyIsIm92ZXJSZXN0IiwiaWRlbnRpdHkiLCJnZXRWYWx1ZSIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwic2hvcnRPdXQiLCJzdHJpbmciLCJvdGhlciIsImlzTGVuZ3RoIiwiYmFzZVVuYXJ5IiwiYXNzaWduZXIiLCJzb3VyY2VzIiwiZ3VhcmQiLCJpc0l0ZXJhdGVlQ2FsbCIsImluaXRpYWxpemVyIiwib3B0aW9uTWVyZ2VyIiwiaGVyZU1hcEpTIiwiYXBwX2lkIiwiYXBwX2NvZGUiLCJIIiwic2VydmljZSIsIlBsYXRmb3JtIiwieCIsImdldFBhdGhTZWdtZW50cyIsInBhdGgiLCJwYXRoQXJyIiwic3BsaXQiLCJwYXJ0cyIsImkiLCJvYmoiLCJpc09iaiIsImRlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwibWFwVHlwZSIsIml0ZW1zIiwibWFpblR5cGUiLCJpbmNsdWRlcyIsInBsYXRmb3JtIiwiY29udGFpbmVyIiwidmFsaWRhdGVNYXBUeXBlIiwiZGVmYXVsdExheWVycyIsImNyZWF0ZURlZmF1bHRMYXllcnMiLCJkb3RQcm9wIiwiYmVoYXZpb3IiLCJtYXBldmVudHMiLCJCZWhhdmlvciIsIk1hcEV2ZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJ1aUxhbmciLCJ1aSIsIlVJIiwiY3JlYXRlRGVmYXVsdCIsInN0eWxlIiwiY3NzIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIkhNYXAiLCJSZWFjdCIsImNyZWF0ZVJlZiIsInN0YXRlIiwiYnVpbGRlciIsIl9wcm9wcyIsImN1cnJlbnQiLCJidWlsZCIsIl9tYXBUeXBlIiwicmV0IiwiaW5pdE1hcCIsImludGVyYWN0aW9uIiwiaW5pdEludGVyYWN0aW9uIiwiaW5pdERlZmF1bHRVSSIsImluaXRJbnRlcmFjdGlvblN0eWxlcyIsImNyZWF0ZU1hcCIsImNyZWF0ZVBsYXRmb3JtIiwiaW5pdFBsYXRmb3JtIiwiY3JlYXRlSW50ZXJhY3Rpb24iLCJjcmVhdGVEZWZhdWx0VUkiLCJjcmVhdGVJbnRlcmFjdGlvblN0eWxlcyIsInNldFN0YXRlIiwiY2hpbGRyZW4iLCJDaGlsZHJlbiIsImNoaWxkIiwiY2xvbmVFbGVtZW50IiwiX19vcHRpb25zIiwibG9hZGluZ0VsIiwibG9hZGluZyIsImNyZWF0ZUxvYWRpbmdDb21wb25lbnQiLCJpZCIsImNsYXNzTmFtZSIsInJlZiIsImRpc3BsYXlDaGlsZHJlbiIsIkNvbXBvbmVudCIsIlBvbHlMaW5lIiwic2V0Vmlld0JvdW5kcyIsInBvaW50cyIsImxpbmVTdHJpbmciLCJnZW8iLCJMaW5lU3RyaW5nIiwicG9pbnQiLCJwdXNoUG9pbnQiLCJwb2x5TGluZSIsIlBvbHlsaW5lIiwiYWRkT2JqZWN0IiwiZ2V0Qm91bmRzIiwiZGlzcGxheSIsIlBvbHlnb24iLCJmaXJzdEVsIiwiY29vcmRzIiwicHVzaExhdExuZ0FsdCIsInBvbHlnb24iLCJNYXJrZXIiLCJ1cGRhdGVNYXJrZXIiLCJtYXJrZXIiLCJnZXRNYXJrZXIiLCJpY29uIiwiRG9tSWNvbiIsIkljb24iLCJfbWFya2VyIiwiZ2V0T2JqZWN0cyIsInNvbWUiLCJnZXRQb3NpdGlvbiIsInNldFBvc2l0aW9uIiwic2V0Q2VudGVyIiwiQ2lyY2xlIiwicmFkaXVzIiwiaW5mbyIsImNpcmNsZSIsIlJlY3RhbmdsZSIsImJvdW5kaW5nQm94IiwiUmVjdCIsInJlY3RhbmdsZSIsIkdlb0NvZGUiLCJnZW9Db2RlUGFyYW1zIiwicmV2ZXJzZSIsImxhbmRtYXJrIiwidXNlU3RhdGUiLCJsb2NhdGlvbnMiLCJzZXRMb2NhdGlvbnMiLCJvblJlc3VsdCIsIlJlc3BvbnNlIiwiVmlldyIsIlJlc3VsdCIsImdlb2NvZGVyIiwiZ2V0R2VvY29kaW5nU2VydmljZSIsInNlYXJjaCIsImFsZXJ0IiwicmV2ZXJzZUdlb2NvZGUiLCJnZW9jb2RlIiwibG9jYXRpb24iLCJfbG9jYXRpb24iLCJMb2NhdGlvbiIsIlBsYWNlIiwiTG9jYXRpb25zIiwiRGlzcGxheVBvc2l0aW9uIiwiTGF0aXR1ZGUiLCJMb25naXR1ZGUiLCJwYXJhbXMiLCJSb3V0ZXIiLCJyZW5kZXJEZWZhdWx0TGluZSIsInJvdXRlUGFyYW1zIiwiaXNvTGluZSIsImxpbmVPcHRpb25zIiwicG9seWdvbk9wdGlvbnMiLCJtYXJrZXJPcHRpb25zIiwicm91dGVTaGFwZSIsInJvdXRlIiwiY29tcG9uZW50IiwicmVuZGVyRGVmYXVsdCIsImdldFJvdXRpbmdTZXJ2aWNlIiwiRnJhZ21lbnQiLCJzdGFydFBvaW50Iiwid2F5cG9pbnQiLCJtYXBwZWRQb3NpdGlvbiIsImVuZFBvaW50Iiwic3RhcnRNYXJrZXIiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImVuZE1hcmtlciIsInNoYXBlIiwiVHJhZmZpYyIsIm1hcExheWVyVHlwZSIsImFkZExheWVyIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiYm9vbCIsImlzUmVxdWlyZWQiLCJhbnkiLCJudW1iZXIiLCJlbGVtZW50IiwiSE1hcFBvbHlMaW5lIiwiSE1hcFBvbHlnb24iLCJITWFwTWFya2VyIiwiSE1hcENpcmNsZSIsIkhNYXBSZWN0YW5nbGUiLCJITWFwUm91dGUiLCJSb3V0ZSIsIkhNYXBMYXllciIsIkxheWVyIiwiSE1hcEdlb0NvZGUiLCJwbGF0Zm9ybURhdGEiLCJzZXRQbGF0Zm9ybURhdGEiLCJ1c2VFZmZlY3QiLCJsb2FkTWFwIiwiQSJdLCJtYXBwaW5ncyI6IituRkFFQUEsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQzNDQyxPQUFPLElBWVRELFVBVmMsU0FBaUJFLEdBQzdCLE1BQTZDLG1CQUF0Q0osT0FBT0ssVUFBVUMsU0FBU0MsS0FBS0gsSUFVeENGLFdBUmUsU0FBa0JFLEdBQy9CLE1BQW9CLGlCQUFOQSxHQVFoQkYsYUFOaUIsU0FBb0JFLEdBQ25DLE1BQW9CLG1CQUFOQSxvRUNWaEJKLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUN6Q0MsT0FBTyxJQUtYLElBQUlLLEVBQVcsR0F3RWZOLFVBeEJBLFNBQVNPLEVBQUlDLEVBQUtDLEdBQ2QsSUFBSSxFQUFJQyxFQUFNQyxVQUFVSCxHQUNwQixPQUFPLElBQUlJLFNBQVEsU0FBVUMsRUFBU0MsSUFoRDlDLFNBQW9CQyxFQUFLQyxFQUFVQyxHQUMvQixJQUFJQyxFQUFpQixXQUNqQlosRUFBU1MsSUFBTyxHQUVaLEVBQUlMLEVBQU1TLFlBQVlILElBQ3RCQSxLQUlSLEdBQUlWLEVBQVNTLEdBQ1RHLFFBREosQ0FNQSxJQUFJRSxFQUFTQyxTQUFTQyxjQUFjLFVBQ3BDRixFQUFPRyxLQUFPLGtCQUVWSCxFQUFPSSxXQUVQSixFQUFPSyxtQkFBcUIsV0FDQyxVQUFyQkwsRUFBT0ksWUFBK0MsWUFBckJKLEVBQU9JLGFBQ3hDSixFQUFPSyxtQkFBcUIsS0FDNUJQLE1BS1JFLEVBQU9NLE9BQVMsV0FDWlIsS0FJUkUsRUFBT08sUUFBVSxTQUFVQyxHQUN2QnRCLEVBQVNTLElBQU8sRUFDaEJjLFFBQVFDLElBQUksUUFBU0YsSUFDakIsRUFBSWxCLEVBQU1TLFlBQVlGLElBQ3RCQSxLQUlSRyxFQUFPWixJQUFNTyxHQUNBTSxTQUFTVSxNQUFRVixTQUFTVyxNQUFRWCxVQUN4Q1ksWUFBWWIsSUFNWGMsQ0FBVzFCLEdBQUssV0FDWixPQUFPSyxHQUFR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
